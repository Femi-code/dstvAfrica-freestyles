function downloadJSAtOnload(){var element=document.createElement("script");element.src="/scripts/external-services.js?cdv="+window.cdv;document.body.appendChild(element);}
if(window.addEventListener)
window.addEventListener("load",downloadJSAtOnload,false);else if(window.attachEvent)
window.attachEvent("onload",downloadJSAtOnload);else window.onload=downloadJSAtOnload;window.consolelog=function(t){if(window.debugMode){console.log(t);}};jQuery(function(){$(".launchChatBtn").parent().hide();initCustomForms();initMobileNav();initAnchors();initDatepicker();InitFeedbackDialog();$(".main-menu-button").click(function(e){window.scrollTo(0,0);e.preventDefault();console.log('hehehehehheeh i got here')
$(".nav-opener").click();})
$('.landing-header .next.lp').on('click',function(e){e.preventDefult;if(!$('.landing-header').next().offset()){var targElm=$('.main-container .grid-section').first().next().find('section').first();if(!targElm){}else{slideToElement(targElm);}}else{slideToElement($('.landing-header').next());}});});function initMarquee(){var win=jQuery(window);var container=jQuery('.gallery-holder');ResponsiveHelper.addRange({'..991':{on:function(){setTimeout(function(){var data=container.data('MarqueeHorizontal');if(data){data.destroy();}
data=container.data('Marquee');if(data){data.destroy();}
container=jQuery('.gallery-holder');container.marqueeHorizontal({line:'.gallery-frame',animSpeed:50,onInit:function(self){this.blocks=this.holder.find('li');this.blocks.removeAttr('style');this.refreshSize=function(){self.holderWidth=self.holder.width();self.holderLeft=self.holder.offset().left;setHorizontalStyles(self);};win.on('resize',this.refreshSize);this.refreshSize();},onChange:function(self){setHorizontalStyles(self);}});},100);}},'992..':{on:function(){setTimeout(function(){var data=container.data('MarqueeHorizontal');if(data){data.destroy();}
data=container.data('Marquee');if(data){data.destroy();}
container=jQuery('.gallery-holder');container.marquee({line:'.gallery-frame',animSpeed:50,onInit:function(self){this.blocks=this.holder.find('li');this.refreshSize=function(){self.t1=self.holder.height()/5.5;self.t2=self.holder.height()/3;self.holderTop=(self.holder.offset().top+self.t1);self.holderHeight=(self.holder.height()-self.t2);self.holderHeightHalf=self.holderHeight/2;setVerticalStyles(self);};win.on('resize',this.refreshSize);this.refreshSize();},onChange:function(self){setVerticalStyles(self);}});},100);}}});function setVerticalStyles(self){self.blocks.css({opacity:0}).each(function(){var item=jQuery(this);var t3=(self.t1+self.t2);var itemTop=(item.offset().top-t3);var koef1=Math.max(0,itemTop-((self.holderTop-t3)+self.holderHeightHalf))/self.holderHeightHalf;var koef2=((self.holderTop-t3)+self.holderHeightHalf-itemTop)/self.holderHeightHalf;if(itemTop<(self.holderTop-t3)+self.holderHeight&&itemTop>(self.holderTop-t3)+self.holderHeight/2){item.css({opacity:(1-koef1),transform:'scale('+Math.max((1.4-koef1),(0.1))+')'});}
if(itemTop<(self.holderTop-t3)+self.holderHeight/2&&itemTop>(self.holderTop-t3)){item.css({opacity:1-koef2,transform:'scale('+Math.max((1.4-koef2),(0.1))+')'});}});}
function setHorizontalStyles(self){self.blocks.each(function(){var item=jQuery(this);var itemLeft=item.offset().left;var itemWidth=item.width();var koef1=Math.max(itemLeft-self.holderLeft+itemWidth,0);var koef2=Math.max((self.holderLeft+self.holderWidth)-itemLeft,0);if(koef1<120){item.css({opacity:koef1/120});}
if(koef2<120&&koef2>0){item.css({opacity:koef2/120});}});}}
function initDatepicker(){var weekendDays=[0,6];jQuery('.calendar-holder').each(function(){var holder=jQuery(this);var datepickerTo=holder.find('.datepicker-to');var datepickerFor=holder.find('.datepicker-for');var startDate;var openedFlag=false;datepickerFor.datepicker({language:'en',navTitles:{days:'MM yyyy'},position:'right top',dateFormat:'dd MM yyyy',showOtherMonths:false,onShow:function(){datepickerTo.val('');},onSelect:function(formattedDate,date,inst){inst.hide();startDate=date;}});datepickerTo.datepicker({range:true,language:'en',navTitles:{days:'MM yyyy'},position:'right top',dateFormat:'dd MM yyyy',showOtherMonths:false,onRenderCell:function(date,cellType){var day=date.getDay();if(cellType=='day'&&weekendDays.indexOf(day)!=-1){if(day==0){return{classes:'sunday'};}else{return{classes:'saturday'};}}},onShow:function(inst,animationCompleted){if(!animationCompleted){inst.selectDate(startDate);openedFlag=true;}},onSelect:function(formattedDate,date,inst){if(openedFlag){inst.hide();openedFlag=false;datepickerTo.val(formattedDate.split(',')[1]);}}});});var eventDates=[14,17,27];jQuery('.inline-calendar').datepicker({range:true,language:'en',navTitles:{days:'MM yyyy'},showOtherMonths:false,onRenderCell:function(date,cellType){var day=date.getDay();var currentDate=date.getDate();if(cellType=='day'&&weekendDays.indexOf(day)!=-1){if(day==0){return{classes:'sunday'};}else{return{classes:'saturday'};}}
if(cellType=='day'&&eventDates.indexOf(currentDate)!=-1){return{classes:'event'};}}});}
function SessionLoad(name){if(sessionStorage!==null&&sessionStorage.getItem(name)!==null){var appStr=sessionStorage.getItem(name);if(appStr===null){return null;}
return JSON.parse(appStr);}else{return null;}};function SessionSave(name,value){if(sessionStorage!==null){sessionStorage.setItem(name,JSON.stringify(value));}};function SessionRemove(name){if(sessionStorage!==null){sessionStorage.removeItem(name);}};function initCustomForms(){jcf.setOptions('Select',{wrapNative:false,wrapNativeOnMobile:false,fakeDropInBody:false});jcf.replaceAll();}
function initMobileNav(){jQuery('body').mobileNav({menuActiveClass:'nav-active',menuOpener:'.nav-opener'});jQuery('body').mobileNav({menuActiveClass:'search-active',menuOpener:'.search-opener',hideOnClickOutside:true,menuDrop:'.search-block'});}
function initAnchors(){new SmoothScroll({anchorLinks:'a.next[href^="#"]:not([href="#"])',extraOffset:0,wheelBehavior:'none'});}
function InitFeedbackDialog(){$("body").on("click","#feedbackDialog",function(){$('#feedbackmodal').modal('show');});$("body").on("click",".feedbackDialog",function(){$('#feedbackmodal').modal('show');});}
(function(w){w.addEventListener('load',function(){var loader=document.querySelector('html.loader');if(loader){loader.classList.add('loaded');}});}(window));;(function($){function MobileNav(options){this.options=$.extend({container:null,hideOnClickOutside:false,menuActiveClass:'nav-active',menuOpener:'.nav-opener',menuDrop:'.nav-drop',toggleEvent:'click',outsideClickEvent:'click touchstart pointerdown MSPointerDown'},options);this.initStructure();this.attachEvents();}
MobileNav.prototype={initStructure:function(){this.page=$('html');this.container=$(this.options.container);this.opener=this.container.find(this.options.menuOpener);this.drop=this.container.find(this.options.menuDrop);},attachEvents:function(){var self=this;if(activateResizeHandler){activateResizeHandler();activateResizeHandler=null;}
this.outsideClickHandler=function(e){if(self.isOpened()){var target=$(e.target);if(!target.closest(self.opener).length&&!target.closest(self.drop).length){self.hide();}}};this.openerClickHandler=function(e){e.preventDefault();self.toggle();};this.opener.on(this.options.toggleEvent,this.openerClickHandler);},isOpened:function(){return this.container.hasClass(this.options.menuActiveClass);},show:function(){this.container.addClass(this.options.menuActiveClass);if(this.options.hideOnClickOutside){this.page.on(this.options.outsideClickEvent,this.outsideClickHandler);}},hide:function(){this.container.removeClass(this.options.menuActiveClass);if(this.options.hideOnClickOutside){this.page.off(this.options.outsideClickEvent,this.outsideClickHandler);}},toggle:function(){if(this.isOpened()){this.hide();}else{this.show();}},destroy:function(){this.container.removeClass(this.options.menuActiveClass);this.opener.off(this.options.toggleEvent,this.clickHandler);this.page.off(this.options.outsideClickEvent,this.outsideClickHandler);}};var activateResizeHandler=function(){var win=$(window),doc=$('html'),resizeClass='resize-active',flag,timer;var removeClassHandler=function(){flag=false;doc.removeClass(resizeClass);};var resizeHandler=function(){if(!flag){flag=true;doc.addClass(resizeClass);}
clearTimeout(timer);timer=setTimeout(removeClassHandler,500);};win.on('resize orientationchange',resizeHandler);};$.fn.mobileNav=function(opt){var args=Array.prototype.slice.call(arguments);var method=args[0];return this.each(function(){var $container=jQuery(this);var instance=$container.data('MobileNav');if(typeof opt==='object'||typeof opt==='undefined'){$container.data('MobileNav',new MobileNav($.extend({container:this},opt)));}else if(typeof method==='string'&&instance){if(typeof instance[method]==='function'){args.shift();instance[method].apply(instance,args);}}});};}(jQuery));/*!
* SmoothScroll module
*/;(function($,exports){var page,win=$(window),activeBlock,activeWheelHandler,wheelEvents=('onwheel'in document||document.documentMode>=9?'wheel':'mousewheel DOMMouseScroll');function scrollTo(offset,options,callback){var scrollBlock;if(document.body){if(typeof options==='number'){options={duration:options};}else{options=options||{};}
page=page||$('html, body');scrollBlock=options.container||page;}else{return;}
if(typeof offset==='number'){offset={top:offset};}
if(activeBlock&&activeWheelHandler){activeBlock.off(wheelEvents,activeWheelHandler);}
if(options.wheelBehavior&&options.wheelBehavior!=='none'){activeWheelHandler=function(e){if(options.wheelBehavior==='stop'){scrollBlock.off(wheelEvents,activeWheelHandler);scrollBlock.stop();}else if(options.wheelBehavior==='ignore'){e.preventDefault();}};activeBlock=scrollBlock.on(wheelEvents,activeWheelHandler);}
scrollBlock.stop().animate({scrollLeft:offset.left,scrollTop:offset.top},options.duration,function(){if(activeWheelHandler){scrollBlock.off(wheelEvents,activeWheelHandler);}
if($.isFunction(callback)){callback();}});}
function SmoothScroll(options){this.options=$.extend({anchorLinks:'a[href^="#"]',container:null,extraOffset:null,activeClasses:null,easing:'swing',animMode:'duration',animDuration:800,animSpeed:1500,anchorActiveClass:'anchor-active',sectionActiveClass:'section-active',wheelBehavior:'stop',useNativeAnchorScrolling:false},options);this.init();}
SmoothScroll.prototype={init:function(){this.initStructure();this.attachEvents();this.isInit=true;},initStructure:function(){var self=this;this.container=this.options.container?$(this.options.container):$('html,body');this.scrollContainer=this.options.container?this.container:win;this.anchorLinks=jQuery(this.options.anchorLinks).filter(function(){return jQuery(self.getAnchorTarget(jQuery(this))).length;});},getId:function(str){try{return '#'+str.replace(/^.*?(#|$)/,'');}catch(err){return null;}},getAnchorTarget:function(link){var targetId=this.getId($(link).attr('href'));return $(targetId.length>1?targetId:'html');},getTargetOffset:function(block){var blockOffset=block.offset().top;if(this.options.container){blockOffset-=this.container.offset().top-this.container.prop('scrollTop');}
if(typeof this.options.extraOffset==='number'){blockOffset-=this.options.extraOffset;}else if(typeof this.options.extraOffset==='function'){blockOffset-=this.options.extraOffset(block);}
return{top:blockOffset};},attachEvents:function(){var self=this;if(this.options.activeClasses&&this.anchorLinks.length){this.anchorData=[];for(var i=0;i<this.anchorLinks.length;i++){var link=jQuery(this.anchorLinks[i]),targetBlock=self.getAnchorTarget(link),anchorDataItem=null;$.each(self.anchorData,function(index,item){if(item.block[0]===targetBlock[0]){anchorDataItem=item;}});if(anchorDataItem){anchorDataItem.link=anchorDataItem.link.add(link);}else{self.anchorData.push({link:link,block:targetBlock});}};this.resizeHandler=function(){if(!self.isInit)return;self.recalculateOffsets();};this.scrollHandler=function(){self.refreshActiveClass();};this.recalculateOffsets();this.scrollContainer.on('scroll',this.scrollHandler);win.on('resize load orientationchange refreshAnchor',this.resizeHandler);}
this.clickHandler=function(e){self.onClick(e);};if(!this.options.useNativeAnchorScrolling){this.anchorLinks.on('click',this.clickHandler);}},recalculateOffsets:function(){var self=this;$.each(this.anchorData,function(index,data){data.offset=self.getTargetOffset(data.block);data.height=data.block.outerHeight();});this.refreshActiveClass();},toggleActiveClass:function(anchor,block,state){anchor.toggleClass(this.options.anchorActiveClass,state);block.toggleClass(this.options.sectionActiveClass,state);},refreshActiveClass:function(){var self=this,foundFlag=false,containerHeight=this.container.prop('scrollHeight'),viewPortHeight=this.scrollContainer.height(),scrollTop=this.options.container?this.container.prop('scrollTop'):win.scrollTop();if(this.options.customScrollHandler){this.options.customScrollHandler.call(this,scrollTop,this.anchorData);return;}
this.anchorData.sort(function(a,b){return a.offset.top-b.offset.top;});$.each(this.anchorData,function(index){var reverseIndex=self.anchorData.length-index-1,data=self.anchorData[reverseIndex],anchorElement=(self.options.activeClasses==='parent'?data.link.parent():data.link);if(scrollTop>=containerHeight-viewPortHeight){if(reverseIndex===self.anchorData.length-1){self.toggleActiveClass(anchorElement,data.block,true);}else{self.toggleActiveClass(anchorElement,data.block,false);}}else{if(!foundFlag&&(scrollTop>=data.offset.top-1||reverseIndex===0)){foundFlag=true;self.toggleActiveClass(anchorElement,data.block,true);}else{self.toggleActiveClass(anchorElement,data.block,false);}}});},calculateScrollDuration:function(offset){var distance;if(this.options.animMode==='speed'){distance=Math.abs(this.scrollContainer.scrollTop()-offset.top);return(distance/this.options.animSpeed)*1000;}else{return this.options.animDuration;}},onClick:function(e){var targetBlock=this.getAnchorTarget(e.currentTarget),targetOffset=this.getTargetOffset(targetBlock);e.preventDefault();scrollTo(targetOffset,{container:this.container,wheelBehavior:this.options.wheelBehavior,duration:this.calculateScrollDuration(targetOffset)});this.makeCallback('onBeforeScroll',e.currentTarget);},makeCallback:function(name){if(typeof this.options[name]==='function'){var args=Array.prototype.slice.call(arguments);args.shift();this.options[name].apply(this,args);}},destroy:function(){var self=this;this.isInit=false;if(this.options.activeClasses){win.off('resize load orientationchange refreshAnchor',this.resizeHandler);this.scrollContainer.off('scroll',this.scrollHandler);$.each(this.anchorData,function(index){var reverseIndex=self.anchorData.length-index-1,data=self.anchorData[reverseIndex],anchorElement=(self.options.activeClasses==='parent'?data.link.parent():data.link);self.toggleActiveClass(anchorElement,data.block,false);});}
this.anchorLinks.off('click',this.clickHandler);}};$.extend(SmoothScroll,{scrollTo:function(blockOrOffset,durationOrOptions,callback){scrollTo(blockOrOffset,durationOrOptions,callback);}});exports.SmoothScroll=SmoothScroll;}(jQuery,this));/*!
* JavaScript Custom Forms
*
* Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
* Released under the MIT license (LICENSE.txt)
*
* Version: 1.1.3
*/;(function(root,factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports==='object'){module.exports=factory(require('jquery'));}else{root.jcf=factory(jQuery);}}(this,function($){'use strict';var version='1.1.3';var customInstances=[];var commonOptions={optionsKey:'jcf',dataKey:'jcf-instance',rtlClass:'jcf-rtl',focusClass:'jcf-focus',pressedClass:'jcf-pressed',disabledClass:'jcf-disabled',hiddenClass:'jcf-hidden',resetAppearanceClass:'jcf-reset-appearance',unselectableClass:'jcf-unselectable'};var isTouchDevice=('ontouchstart'in window)||window.DocumentTouch&&document instanceof window.DocumentTouch,isWinPhoneDevice=/Windows Phone/.test(navigator.userAgent);commonOptions.isMobileDevice=!!(isTouchDevice||isWinPhoneDevice);var isIOS=/(iPad|iPhone).*OS ([0-9_]*) .*/.exec(navigator.userAgent);if(isIOS)isIOS=parseFloat(isIOS[2].replace(/_/g,'.'));commonOptions.ios=isIOS;var createStyleSheet=function(){var styleTag=$('<style>').appendTo('head'),styleSheet=styleTag.prop('sheet')||styleTag.prop('styleSheet');var addCSSRule=function(selector,rules,index){if(styleSheet.insertRule){styleSheet.insertRule(selector+'{'+rules+'}',index);}else{styleSheet.addRule(selector,rules,index);}};addCSSRule('.'+commonOptions.hiddenClass,'position:absolute !important;left:-9999px !important;height:1px !important;width:1px !important;margin:0 !important;border-width:0 !important;-webkit-appearance:none;-moz-appearance:none;appearance:none');addCSSRule('.'+commonOptions.rtlClass+' .'+commonOptions.hiddenClass,'right:-9999px !important; left: auto !important');addCSSRule('.'+commonOptions.unselectableClass,'-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0);');addCSSRule('.'+commonOptions.resetAppearanceClass,'background: none; border: none; -webkit-appearance: none; appearance: none; opacity: 0; filter: alpha(opacity=0);');var html=$('html'),body=$('body');if(html.css('direction')==='rtl'||body.css('direction')==='rtl'){html.addClass(commonOptions.rtlClass);}
html.on('reset',function(){setTimeout(function(){api.refreshAll();},0);});commonOptions.styleSheetCreated=true;};(function(){var pointerEventsSupported=navigator.pointerEnabled||navigator.msPointerEnabled,touchEventsSupported=('ontouchstart'in window)||window.DocumentTouch&&document instanceof window.DocumentTouch,eventList,eventMap={},eventPrefix='jcf-';if(pointerEventsSupported){eventList={pointerover:navigator.pointerEnabled?'pointerover':'MSPointerOver',pointerdown:navigator.pointerEnabled?'pointerdown':'MSPointerDown',pointermove:navigator.pointerEnabled?'pointermove':'MSPointerMove',pointerup:navigator.pointerEnabled?'pointerup':'MSPointerUp'};}else{eventList={pointerover:'mouseover',pointerdown:'mousedown'+(touchEventsSupported?' touchstart':''),pointermove:'mousemove'+(touchEventsSupported?' touchmove':''),pointerup:'mouseup'+(touchEventsSupported?' touchend':'')};}
$.each(eventList,function(targetEventName,fakeEventList){$.each(fakeEventList.split(' '),function(index,fakeEventName){eventMap[fakeEventName]=targetEventName;});});$.each(eventList,function(eventName,eventHandlers){eventHandlers=eventHandlers.split(' ');$.event.special[eventPrefix+eventName]={setup:function(){var self=this;$.each(eventHandlers,function(index,fallbackEvent){if(self.addEventListener)self.addEventListener(fallbackEvent,fixEvent,commonOptions.isMobileDevice?{passive:false}:false);else self['on'+fallbackEvent]=fixEvent;});},teardown:function(){var self=this;$.each(eventHandlers,function(index,fallbackEvent){if(self.addEventListener)self.removeEventListener(fallbackEvent,fixEvent,commonOptions.isMobileDevice?{passive:false}:false);else self['on'+fallbackEvent]=null;});}};});var lastTouch=null;var mouseEventSimulated=function(e){var dx=Math.abs(e.pageX-lastTouch.x),dy=Math.abs(e.pageY-lastTouch.y),rangeDistance=25;if(dx<=rangeDistance&&dy<=rangeDistance){return true;}};var fixEvent=function(e){var origEvent=e||window.event,touchEventData=null,targetEventName=eventMap[origEvent.type];e=$.event.fix(origEvent);e.type=eventPrefix+targetEventName;if(origEvent.pointerType){switch(origEvent.pointerType){case 2:e.pointerType='touch';break;case 3:e.pointerType='pen';break;case 4:e.pointerType='mouse';break;default:e.pointerType=origEvent.pointerType;}}else{e.pointerType=origEvent.type.substr(0,5);}
if(!e.pageX&&!e.pageY){touchEventData=origEvent.changedTouches?origEvent.changedTouches[0]:origEvent;e.pageX=touchEventData.pageX;e.pageY=touchEventData.pageY;}
if(origEvent.type==='touchend'){lastTouch={x:e.pageX,y:e.pageY};}
if(e.pointerType==='mouse'&&lastTouch&&mouseEventSimulated(e)){return;}else{return($.event.dispatch||$.event.handle).call(this,e);}};}());(function(){var wheelEvents=('onwheel'in document||document.documentMode>=9?'wheel':'mousewheel DOMMouseScroll').split(' '),shimEventName='jcf-mousewheel';$.event.special[shimEventName]={setup:function(){var self=this;$.each(wheelEvents,function(index,fallbackEvent){if(self.addEventListener)self.addEventListener(fallbackEvent,fixEvent,false);else self['on'+fallbackEvent]=fixEvent;});},teardown:function(){var self=this;$.each(wheelEvents,function(index,fallbackEvent){if(self.addEventListener)self.removeEventListener(fallbackEvent,fixEvent,false);else self['on'+fallbackEvent]=null;});}};var fixEvent=function(e){var origEvent=e||window.event;e=$.event.fix(origEvent);e.type=shimEventName;if('detail'in origEvent){e.deltaY=-origEvent.detail;}
if('wheelDelta'in origEvent){e.deltaY=-origEvent.wheelDelta;}
if('wheelDeltaY'in origEvent){e.deltaY=-origEvent.wheelDeltaY;}
if('wheelDeltaX'in origEvent){e.deltaX=-origEvent.wheelDeltaX;}
if('deltaY'in origEvent){e.deltaY=origEvent.deltaY;}
if('deltaX'in origEvent){e.deltaX=origEvent.deltaX;}
e.delta=e.deltaY||e.deltaX;if(origEvent.deltaMode===1){var lineHeight=16;e.delta*=lineHeight;e.deltaY*=lineHeight;e.deltaX*=lineHeight;}
return($.event.dispatch||$.event.handle).call(this,e);};}());var moduleMixin={fireNativeEvent:function(elements,eventName){$(elements).each(function(){var element=this,eventObject;if(element.dispatchEvent){eventObject=document.createEvent('HTMLEvents');eventObject.initEvent(eventName,true,true);element.dispatchEvent(eventObject);}else if(document.createEventObject){eventObject=document.createEventObject();eventObject.target=element;element.fireEvent('on'+eventName,eventObject);}});},bindHandlers:function(){var self=this;$.each(self,function(propName,propValue){if(propName.indexOf('on')===0&&$.isFunction(propValue)){self[propName]=function(){return propValue.apply(self,arguments);};}});}};var api={version:version,modules:{},getOptions:function(){return $.extend({},commonOptions);},setOptions:function(moduleName,moduleOptions){if(arguments.length>1){if(this.modules[moduleName]){$.extend(this.modules[moduleName].prototype.options,moduleOptions);}}else{$.extend(commonOptions,moduleName);}},addModule:function(proto){var Module=function(options){if(!options.element.data(commonOptions.dataKey)){options.element.data(commonOptions.dataKey,this);}
customInstances.push(this);this.options=$.extend({},commonOptions,this.options,getInlineOptions(options.element),options);this.bindHandlers();this.init.apply(this,arguments);};var getInlineOptions=function(element){var dataOptions=element.data(commonOptions.optionsKey),attrOptions=element.attr(commonOptions.optionsKey);if(dataOptions){return dataOptions;}else if(attrOptions){try{return $.parseJSON(attrOptions);}catch(e){}}};Module.prototype=proto;$.extend(proto,moduleMixin);if(proto.plugins){$.each(proto.plugins,function(pluginName,plugin){$.extend(plugin.prototype,moduleMixin);});}
var originalDestroy=Module.prototype.destroy;Module.prototype.destroy=function(){this.options.element.removeData(this.options.dataKey);for(var i=customInstances.length-1;i>=0;i--){if(customInstances[i]===this){customInstances.splice(i,1);break;}}
if(originalDestroy){originalDestroy.apply(this,arguments);}};this.modules[proto.name]=Module;},getInstance:function(element){return $(element).data(commonOptions.dataKey);},replace:function(elements,moduleName,customOptions){var self=this,instance;if(!commonOptions.styleSheetCreated){createStyleSheet();}
$(elements).each(function(){var moduleOptions,element=$(this);instance=element.data(commonOptions.dataKey);if(instance){instance.refresh();}else{if(!moduleName){$.each(self.modules,function(currentModuleName,module){if(module.prototype.matchElement.call(module.prototype,element)){moduleName=currentModuleName;return false;}});}
if(moduleName){moduleOptions=$.extend({element:element},customOptions);instance=new self.modules[moduleName](moduleOptions);}}});return instance;},refresh:function(elements){$(elements).each(function(){var instance=$(this).data(commonOptions.dataKey);if(instance){instance.refresh();}});},destroy:function(elements){$(elements).each(function(){var instance=$(this).data(commonOptions.dataKey);if(instance){instance.destroy();}});},replaceAll:function(context){var self=this;$.each(this.modules,function(moduleName,module){$(module.prototype.selector,context).each(function(){if(this.className.indexOf('jcf-ignore')<0){self.replace(this,moduleName);}});});},refreshAll:function(context){if(context){$.each(this.modules,function(moduleName,module){$(module.prototype.selector,context).each(function(){var instance=$(this).data(commonOptions.dataKey);if(instance){instance.refresh();}});});}else{for(var i=customInstances.length-1;i>=0;i--){customInstances[i].refresh();}}},destroyAll:function(context){if(context){$.each(this.modules,function(moduleName,module){$(module.prototype.selector,context).each(function(index,element){var instance=$(element).data(commonOptions.dataKey);if(instance){instance.destroy();}});});}else{while(customInstances.length){customInstances[0].destroy();}}}};window.jcf=api;return api;}));/*!
* JavaScript Custom Forms : Select Module
*
* Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
* Released under the MIT license (LICENSE.txt)
*
* Version: 1.1.3
*/;(function($,window){'use strict';jcf.addModule({name:'Select',selector:'select',options:{element:null,multipleCompactStyle:false},plugins:{ListBox:ListBox,ComboBox:ComboBox,SelectList:SelectList},matchElement:function(element){return element.is('select');},init:function(){this.element=$(this.options.element);this.createInstance();},isListBox:function(){return this.element.is('[size]:not([jcf-size]), [multiple]');},createInstance:function(){if(this.instance){this.instance.destroy();}
if(this.isListBox()&&!this.options.multipleCompactStyle){this.instance=new ListBox(this.options);}else{this.instance=new ComboBox(this.options);}},refresh:function(){var typeMismatch=(this.isListBox()&&this.instance instanceof ComboBox)||(!this.isListBox()&&this.instance instanceof ListBox);if(typeMismatch){this.createInstance();}else{this.instance.refresh();}},destroy:function(){this.instance.destroy();}});function ComboBox(options){this.options=$.extend({wrapNative:false,wrapNativeOnMobile:false,fakeDropInBody:false,useCustomScroll:true,flipDropToFit:true,maxVisibleItems:10,fakeAreaStructure:'<span class="jcf-select"><span class="jcf-select-text"></span><span class="jcf-select-opener"></span></span>',fakeDropStructure:'<div class="jcf-select-drop"><div class="jcf-select-drop-content"></div></div>',optionClassPrefix:'jcf-option-',selectClassPrefix:'jcf-select-',dropContentSelector:'.jcf-select-drop-content',selectTextSelector:'.jcf-select-text',dropActiveClass:'jcf-drop-active',flipDropClass:'jcf-drop-flipped'},options);this.init();}
$.extend(ComboBox.prototype,{init:function(){this.initStructure();this.bindHandlers();this.attachEvents();this.refresh();},initStructure:function(){this.win=$(window);this.doc=$(document);this.realElement=$(this.options.element);this.fakeElement=$(this.options.fakeAreaStructure).insertAfter(this.realElement);this.selectTextContainer=this.fakeElement.find(this.options.selectTextSelector);this.selectText=$('<span></span>').appendTo(this.selectTextContainer);makeUnselectable(this.fakeElement);this.fakeElement.addClass(getPrefixedClasses(this.realElement.prop('className'),this.options.selectClassPrefix));if(this.realElement.prop('multiple')){this.fakeElement.addClass('jcf-compact-multiple');}
if(this.options.isMobileDevice&&this.options.wrapNativeOnMobile&&!this.options.wrapNative){this.options.wrapNative=true;}
if(this.options.wrapNative){this.realElement.prependTo(this.fakeElement).css({position:'absolute',height:'100%',width:'100%'}).addClass(this.options.resetAppearanceClass);}else{this.realElement.addClass(this.options.hiddenClass);this.fakeElement.attr('title',this.realElement.attr('title'));this.fakeDropTarget=this.options.fakeDropInBody?$('body'):this.fakeElement;}},attachEvents:function(){var self=this;this.delayedRefresh=function(){setTimeout(function(){self.refresh();if(self.list){self.list.refresh();self.list.scrollToActiveOption();}},1);};if(this.options.wrapNative){this.realElement.on({focus:this.onFocus,change:this.onChange,click:this.onChange,keydown:this.onChange});}else{this.realElement.on({focus:this.onFocus,change:this.onChange,keydown:this.onKeyDown});this.fakeElement.on({'jcf-pointerdown':this.onSelectAreaPress});}},onKeyDown:function(e){if(e.which===13){this.toggleDropdown();}else if(this.dropActive){this.delayedRefresh();}},onChange:function(){this.refresh();},onFocus:function(){if(!this.pressedFlag||!this.focusedFlag){this.fakeElement.addClass(this.options.focusClass);this.realElement.on('blur',this.onBlur);this.toggleListMode(true);this.focusedFlag=true;}},onBlur:function(){if(!this.pressedFlag){this.fakeElement.removeClass(this.options.focusClass);this.realElement.off('blur',this.onBlur);this.toggleListMode(false);this.focusedFlag=false;}},onResize:function(){if(this.dropActive){this.hideDropdown();}},onSelectDropPress:function(){this.pressedFlag=true;},onSelectDropRelease:function(e,pointerEvent){this.pressedFlag=false;if(pointerEvent.pointerType==='mouse'){this.realElement.focus();}},onSelectAreaPress:function(e){var dropClickedInsideFakeElement=!this.options.fakeDropInBody&&$(e.target).closest(this.dropdown).length;if(dropClickedInsideFakeElement||e.button>1||this.realElement.is(':disabled')){return;}
this.selectOpenedByEvent=e.pointerType;this.toggleDropdown();if(!this.focusedFlag){if(e.pointerType==='mouse'){this.realElement.focus();}else{this.onFocus(e);}}
this.pressedFlag=true;this.fakeElement.addClass(this.options.pressedClass);this.doc.on('jcf-pointerup',this.onSelectAreaRelease);},onSelectAreaRelease:function(e){if(this.focusedFlag&&e.pointerType==='mouse'){this.realElement.focus();}
this.pressedFlag=false;this.fakeElement.removeClass(this.options.pressedClass);this.doc.off('jcf-pointerup',this.onSelectAreaRelease);},onOutsideClick:function(e){var target=$(e.target),clickedInsideSelect=target.closest(this.fakeElement).length||target.closest(this.dropdown).length;if(!clickedInsideSelect){this.hideDropdown();}},onSelect:function(){this.refresh();if(this.realElement.prop('multiple')){this.repositionDropdown();}else{this.hideDropdown();}
this.fireNativeEvent(this.realElement,'change');},toggleListMode:function(state){if(!this.options.wrapNative){if(state){this.realElement.attr({size:4,'jcf-size':''});}else{if(!this.options.wrapNative){this.realElement.removeAttr('size jcf-size');}}}},createDropdown:function(){if(this.dropdown){this.list.destroy();this.dropdown.remove();}
this.dropdown=$(this.options.fakeDropStructure).appendTo(this.fakeDropTarget);this.dropdown.addClass(getPrefixedClasses(this.realElement.prop('className'),this.options.selectClassPrefix));makeUnselectable(this.dropdown);if(this.realElement.prop('multiple')){this.dropdown.addClass('jcf-compact-multiple');}
if(this.options.fakeDropInBody){this.dropdown.css({position:'absolute',top:-9999});}
this.list=new SelectList({useHoverClass:true,handleResize:false,alwaysPreventMouseWheel:true,maxVisibleItems:this.options.maxVisibleItems,useCustomScroll:this.options.useCustomScroll,holder:this.dropdown.find(this.options.dropContentSelector),multipleSelectWithoutKey:this.realElement.prop('multiple'),element:this.realElement});$(this.list).on({select:this.onSelect,press:this.onSelectDropPress,release:this.onSelectDropRelease});},repositionDropdown:function(){var selectOffset=this.fakeElement.offset(),selectWidth=this.fakeElement.outerWidth(),selectHeight=this.fakeElement.outerHeight(),dropHeight=this.dropdown.css('width',selectWidth).outerHeight(),winScrollTop=this.win.scrollTop(),winHeight=this.win.height(),calcTop,calcLeft,bodyOffset,needFlipDrop=false;if(selectOffset.top+selectHeight+dropHeight>winScrollTop+winHeight&&selectOffset.top-dropHeight>winScrollTop){needFlipDrop=true;}
if(this.options.fakeDropInBody){bodyOffset=this.fakeDropTarget.css('position')!=='static'?this.fakeDropTarget.offset().top:0;if(this.options.flipDropToFit&&needFlipDrop){calcLeft=selectOffset.left;calcTop=selectOffset.top-dropHeight-bodyOffset;}else{calcLeft=selectOffset.left;calcTop=selectOffset.top+selectHeight-bodyOffset;}
this.dropdown.css({width:selectWidth,left:calcLeft,top:calcTop});}
this.dropdown.add(this.fakeElement).toggleClass(this.options.flipDropClass,this.options.flipDropToFit&&needFlipDrop);},showDropdown:function(){if(!this.realElement.prop('options').length){return;}
if(!this.dropdown){this.createDropdown();}
this.dropActive=true;this.dropdown.appendTo(this.fakeDropTarget);this.fakeElement.addClass(this.options.dropActiveClass);this.refreshSelectedText();this.repositionDropdown();this.list.setScrollTop(this.savedScrollTop);this.list.refresh();this.win.on('resize',this.onResize);this.doc.on('jcf-pointerdown',this.onOutsideClick);},hideDropdown:function(){if(this.dropdown){this.savedScrollTop=this.list.getScrollTop();this.fakeElement.removeClass(this.options.dropActiveClass+' '+this.options.flipDropClass);this.dropdown.removeClass(this.options.flipDropClass).detach();this.doc.off('jcf-pointerdown',this.onOutsideClick);this.win.off('resize',this.onResize);this.dropActive=false;if(this.selectOpenedByEvent==='touch'){this.onBlur();}}},toggleDropdown:function(){if(this.dropActive){this.hideDropdown();}else{this.showDropdown();}},refreshSelectedText:function(){var selectedIndex=this.realElement.prop('selectedIndex'),selectedOption=this.realElement.prop('options')[selectedIndex],selectedOptionImage=selectedOption?selectedOption.getAttribute('data-image'):null,selectedOptionText='',selectedOptionClasses,self=this;if(this.realElement.prop('multiple')){$.each(this.realElement.prop('options'),function(index,option){if(option.selected){selectedOptionText+=(selectedOptionText?', ':'')+option.innerHTML;}});if(!selectedOptionText){selectedOptionText=self.realElement.attr('placeholder')||'';}
this.selectText.removeAttr('class').html(selectedOptionText);}else if(!selectedOption){if(this.selectImage){this.selectImage.hide();}
this.selectText.removeAttr('class').empty();}else if(this.currentSelectedText!==selectedOption.innerHTML||this.currentSelectedImage!==selectedOptionImage){selectedOptionClasses=getPrefixedClasses(selectedOption.className,this.options.optionClassPrefix);this.selectText.attr('class',selectedOptionClasses).html(selectedOption.innerHTML);if(selectedOptionImage){if(!this.selectImage){this.selectImage=$('<img>').prependTo(this.selectTextContainer).hide();}
this.selectImage.attr('src',selectedOptionImage).show();}else if(this.selectImage){this.selectImage.hide();}
this.currentSelectedText=selectedOption.innerHTML;this.currentSelectedImage=selectedOptionImage;}},refresh:function(){if(this.realElement.prop('style').display==='none'){this.fakeElement.hide();}else{this.fakeElement.show();}
this.refreshSelectedText();this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(':disabled'));},destroy:function(){if(this.options.wrapNative){this.realElement.insertBefore(this.fakeElement).css({position:'',height:'',width:''}).removeClass(this.options.resetAppearanceClass);}else{this.realElement.removeClass(this.options.hiddenClass);if(this.realElement.is('[jcf-size]')){this.realElement.removeAttr('size jcf-size');}}
this.fakeElement.remove();this.doc.off('jcf-pointerup',this.onSelectAreaRelease);this.realElement.off({focus:this.onFocus});}});function ListBox(options){this.options=$.extend({wrapNative:true,useCustomScroll:true,fakeStructure:'<span class="jcf-list-box"><span class="jcf-list-wrapper"></span></span>',selectClassPrefix:'jcf-select-',listHolder:'.jcf-list-wrapper'},options);this.init();}
$.extend(ListBox.prototype,{init:function(){this.bindHandlers();this.initStructure();this.attachEvents();},initStructure:function(){this.realElement=$(this.options.element);this.fakeElement=$(this.options.fakeStructure).insertAfter(this.realElement);this.listHolder=this.fakeElement.find(this.options.listHolder);makeUnselectable(this.fakeElement);this.fakeElement.addClass(getPrefixedClasses(this.realElement.prop('className'),this.options.selectClassPrefix));this.realElement.addClass(this.options.hiddenClass);this.list=new SelectList({useCustomScroll:this.options.useCustomScroll,holder:this.listHolder,selectOnClick:false,element:this.realElement});},attachEvents:function(){var self=this;this.delayedRefresh=function(e){if(e&&e.which===16){return;}else{clearTimeout(self.refreshTimer);self.refreshTimer=setTimeout(function(){self.refresh();self.list.scrollToActiveOption();},1);}};this.realElement.on({focus:this.onFocus,click:this.delayedRefresh,keydown:this.delayedRefresh});$(this.list).on({select:this.onSelect,press:this.onFakeOptionsPress,release:this.onFakeOptionsRelease});},onFakeOptionsPress:function(e,pointerEvent){this.pressedFlag=true;if(pointerEvent.pointerType==='mouse'){this.realElement.focus();}},onFakeOptionsRelease:function(e,pointerEvent){this.pressedFlag=false;if(pointerEvent.pointerType==='mouse'){this.realElement.focus();}},onSelect:function(){this.fireNativeEvent(this.realElement,'change');this.fireNativeEvent(this.realElement,'click');},onFocus:function(){if(!this.pressedFlag||!this.focusedFlag){this.fakeElement.addClass(this.options.focusClass);this.realElement.on('blur',this.onBlur);this.focusedFlag=true;}},onBlur:function(){if(!this.pressedFlag){this.fakeElement.removeClass(this.options.focusClass);this.realElement.off('blur',this.onBlur);this.focusedFlag=false;}},refresh:function(){this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(':disabled'));this.list.refresh();},destroy:function(){this.list.destroy();this.realElement.insertBefore(this.fakeElement).removeClass(this.options.hiddenClass);this.fakeElement.remove();}});function SelectList(options){this.options=$.extend({holder:null,maxVisibleItems:10,selectOnClick:true,useHoverClass:false,useCustomScroll:false,handleResize:true,multipleSelectWithoutKey:false,alwaysPreventMouseWheel:false,indexAttribute:'data-index',cloneClassPrefix:'jcf-option-',containerStructure:'<span class="jcf-list"><span class="jcf-list-content"></span></span>',containerSelector:'.jcf-list-content',captionClass:'jcf-optgroup-caption',disabledClass:'jcf-disabled',optionClass:'jcf-option',groupClass:'jcf-optgroup',hoverClass:'jcf-hover',selectedClass:'jcf-selected',scrollClass:'jcf-scroll-active'},options);this.init();}
$.extend(SelectList.prototype,{init:function(){this.initStructure();this.refreshSelectedClass();this.attachEvents();},initStructure:function(){this.element=$(this.options.element);this.indexSelector='['+this.options.indexAttribute+']';this.container=$(this.options.containerStructure).appendTo(this.options.holder);this.listHolder=this.container.find(this.options.containerSelector);this.lastClickedIndex=this.element.prop('selectedIndex');this.rebuildList();},attachEvents:function(){this.bindHandlers();this.listHolder.on('jcf-pointerdown',this.indexSelector,this.onItemPress);this.listHolder.on('jcf-pointerdown',this.onPress);if(this.options.useHoverClass){this.listHolder.on('jcf-pointerover',this.indexSelector,this.onHoverItem);}},onPress:function(e){$(this).trigger('press',e);this.listHolder.on('jcf-pointerup',this.onRelease);},onRelease:function(e){$(this).trigger('release',e);this.listHolder.off('jcf-pointerup',this.onRelease);},onHoverItem:function(e){var hoverIndex=parseFloat(e.currentTarget.getAttribute(this.options.indexAttribute));this.fakeOptions.removeClass(this.options.hoverClass).eq(hoverIndex).addClass(this.options.hoverClass);},onItemPress:function(e){if(e.pointerType==='touch'||this.options.selectOnClick){this.tmpListOffsetTop=this.list.offset().top;this.listHolder.on('jcf-pointerup',this.indexSelector,this.onItemRelease);}else{this.onSelectItem(e);}},onItemRelease:function(e){this.listHolder.off('jcf-pointerup',this.indexSelector,this.onItemRelease);if(this.tmpListOffsetTop===this.list.offset().top){this.listHolder.on('click',this.indexSelector,{savedPointerType:e.pointerType},this.onSelectItem);}
delete this.tmpListOffsetTop;},onSelectItem:function(e){var clickedIndex=parseFloat(e.currentTarget.getAttribute(this.options.indexAttribute)),pointerType=e.data&&e.data.savedPointerType||e.pointerType||'mouse',range;this.listHolder.off('click',this.indexSelector,this.onSelectItem);if(e.button>1||this.realOptions[clickedIndex].disabled){return;}
if(this.element.prop('multiple')){if(e.metaKey||e.ctrlKey||pointerType==='touch'||this.options.multipleSelectWithoutKey){this.realOptions[clickedIndex].selected=!this.realOptions[clickedIndex].selected;}else if(e.shiftKey){range=[this.lastClickedIndex,clickedIndex].sort(function(a,b){return a-b;});this.realOptions.each(function(index,option){option.selected=(index>=range[0]&&index<=range[1]);});}else{this.element.prop('selectedIndex',clickedIndex);}}else{this.element.prop('selectedIndex',clickedIndex);}
if(!e.shiftKey){this.lastClickedIndex=clickedIndex;}
this.refreshSelectedClass();if(pointerType==='mouse'){this.scrollToActiveOption();}
$(this).trigger('select');},rebuildList:function(){var self=this,rootElement=this.element[0];this.storedSelectHTML=rootElement.innerHTML;this.optionIndex=0;this.list=$(this.createOptionsList(rootElement));this.listHolder.empty().append(this.list);this.realOptions=this.element.find('option');this.fakeOptions=this.list.find(this.indexSelector);this.fakeListItems=this.list.find('.'+this.options.captionClass+','+this.indexSelector);delete this.optionIndex;var maxCount=this.options.maxVisibleItems,sizeValue=this.element.prop('size');if(sizeValue>1&&!this.element.is('[jcf-size]')){maxCount=sizeValue;}
var needScrollBar=this.fakeOptions.length>maxCount;this.container.toggleClass(this.options.scrollClass,needScrollBar);if(needScrollBar){this.listHolder.css({maxHeight:this.getOverflowHeight(maxCount),overflow:'auto'});if(this.options.useCustomScroll&&jcf.modules.Scrollable){jcf.replace(this.listHolder,'Scrollable',{handleResize:this.options.handleResize,alwaysPreventMouseWheel:this.options.alwaysPreventMouseWheel});return;}}
if(this.options.alwaysPreventMouseWheel){this.preventWheelHandler=function(e){var currentScrollTop=self.listHolder.scrollTop(),maxScrollTop=self.listHolder.prop('scrollHeight')-self.listHolder.innerHeight();if((currentScrollTop<=0&&e.deltaY<0)||(currentScrollTop>=maxScrollTop&&e.deltaY>0)){e.preventDefault();}};this.listHolder.on('jcf-mousewheel',this.preventWheelHandler);}},refreshSelectedClass:function(){var self=this,selectedItem,isMultiple=this.element.prop('multiple'),selectedIndex=this.element.prop('selectedIndex');if(isMultiple){this.realOptions.each(function(index,option){self.fakeOptions.eq(index).toggleClass(self.options.selectedClass,!!option.selected);});}else{this.fakeOptions.removeClass(this.options.selectedClass+' '+this.options.hoverClass);selectedItem=this.fakeOptions.eq(selectedIndex).addClass(this.options.selectedClass);if(this.options.useHoverClass){selectedItem.addClass(this.options.hoverClass);}}},scrollToActiveOption:function(){var targetOffset=this.getActiveOptionOffset();if(typeof targetOffset==='number'){this.listHolder.prop('scrollTop',targetOffset);}},getSelectedIndexRange:function(){var firstSelected=-1,lastSelected=-1;this.realOptions.each(function(index,option){if(option.selected){if(firstSelected<0){firstSelected=index;}
lastSelected=index;}});return[firstSelected,lastSelected];},getChangedSelectedIndex:function(){var selectedIndex=this.element.prop('selectedIndex'),targetIndex;if(this.element.prop('multiple')){if(!this.previousRange){this.previousRange=[selectedIndex,selectedIndex];}
this.currentRange=this.getSelectedIndexRange();targetIndex=this.currentRange[this.currentRange[0]!==this.previousRange[0]?0:1];this.previousRange=this.currentRange;return targetIndex;}else{return selectedIndex;}},getActiveOptionOffset:function(){var dropHeight=this.listHolder.height(),dropScrollTop=this.listHolder.prop('scrollTop'),currentIndex=this.getChangedSelectedIndex(),fakeOption=this.fakeOptions.eq(currentIndex),fakeOptionOffset=fakeOption.offset().top-this.list.offset().top,fakeOptionHeight=fakeOption.innerHeight();if(fakeOptionOffset+fakeOptionHeight>=dropScrollTop+dropHeight){return fakeOptionOffset-dropHeight+fakeOptionHeight;}else if(fakeOptionOffset<dropScrollTop){return fakeOptionOffset;}},getOverflowHeight:function(sizeValue){var item=this.fakeListItems.eq(sizeValue-1),listOffset=this.list.offset().top,itemOffset=item.offset().top,itemHeight=item.innerHeight();return itemOffset+itemHeight-listOffset;},getScrollTop:function(){return this.listHolder.scrollTop();},setScrollTop:function(value){this.listHolder.scrollTop(value);},createOption:function(option){var newOption=document.createElement('span');newOption.className=this.options.optionClass;newOption.innerHTML=option.innerHTML;newOption.setAttribute(this.options.indexAttribute,this.optionIndex++);var optionImage,optionImageSrc=option.getAttribute('data-image');if(optionImageSrc){optionImage=document.createElement('img');optionImage.src=optionImageSrc;newOption.insertBefore(optionImage,newOption.childNodes[0]);}
if(option.disabled){newOption.className+=' '+this.options.disabledClass;}
if(option.className){newOption.className+=' '+getPrefixedClasses(option.className,this.options.cloneClassPrefix);}
return newOption;},createOptGroup:function(optgroup){var optGroupContainer=document.createElement('span'),optGroupName=optgroup.getAttribute('label'),optGroupCaption,optGroupList;optGroupCaption=document.createElement('span');optGroupCaption.className=this.options.captionClass;optGroupCaption.innerHTML=optGroupName;optGroupContainer.appendChild(optGroupCaption);if(optgroup.children.length){optGroupList=this.createOptionsList(optgroup);optGroupContainer.appendChild(optGroupList);}
optGroupContainer.className=this.options.groupClass;return optGroupContainer;},createOptionContainer:function(){var optionContainer=document.createElement('li');return optionContainer;},createOptionsList:function(container){var self=this,list=document.createElement('ul');$.each(container.children,function(index,currentNode){var item=self.createOptionContainer(currentNode),newNode;switch(currentNode.tagName.toLowerCase()){case 'option':newNode=self.createOption(currentNode);break;case 'optgroup':newNode=self.createOptGroup(currentNode);break;}
list.appendChild(item).appendChild(newNode);});return list;},refresh:function(){if(this.storedSelectHTML!==this.element.prop('innerHTML')){this.rebuildList();}
var scrollInstance=jcf.getInstance(this.listHolder);if(scrollInstance){scrollInstance.refresh();}
this.refreshSelectedClass();},destroy:function(){this.listHolder.off('jcf-mousewheel',this.preventWheelHandler);this.listHolder.off('jcf-pointerdown',this.indexSelector,this.onSelectItem);this.listHolder.off('jcf-pointerover',this.indexSelector,this.onHoverItem);this.listHolder.off('jcf-pointerdown',this.onPress);}});var getPrefixedClasses=function(className,prefixToAdd){return className?className.replace(/[\s]*([\S]+)+[\s]*/gi,prefixToAdd+'$1 '):'';};var makeUnselectable=(function(){var unselectableClass=jcf.getOptions().unselectableClass;function preventHandler(e){e.preventDefault();}
return function(node){node.addClass(unselectableClass).on('selectstart',preventHandler);};}());}(jQuery,this));/*!
* JavaScript Custom Forms : Radio Module
*
* Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
* Released under the MIT license (LICENSE.txt)
*
* Version: 1.1.3
*/;(function($){'use strict';jcf.addModule({name:'Radio',selector:'input[type="radio"]',options:{wrapNative:true,checkedClass:'jcf-checked',uncheckedClass:'jcf-unchecked',labelActiveClass:'jcf-label-active',fakeStructure:'<span class="jcf-radio"><span></span></span>'},matchElement:function(element){return element.is(':radio');},init:function(){this.initStructure();this.attachEvents();this.refresh();},initStructure:function(){this.doc=$(document);this.realElement=$(this.options.element);this.fakeElement=$(this.options.fakeStructure).insertAfter(this.realElement);this.labelElement=this.getLabelFor();if(this.options.wrapNative){this.realElement.prependTo(this.fakeElement).css({position:'absolute',opacity:0});}else{this.realElement.addClass(this.options.hiddenClass);}},attachEvents:function(){this.realElement.on({focus:this.onFocus,click:this.onRealClick});this.fakeElement.on('click',this.onFakeClick);this.fakeElement.on('jcf-pointerdown',this.onPress);},onRealClick:function(e){var self=this;this.savedEventObject=e;setTimeout(function(){self.refreshRadioGroup();},0);},onFakeClick:function(e){if(this.options.wrapNative&&this.realElement.is(e.target)){return;}
if(!this.realElement.is(':disabled')){delete this.savedEventObject;this.currentActiveRadio=this.getCurrentActiveRadio();this.stateChecked=this.realElement.prop('checked');this.realElement.prop('checked',true);this.fireNativeEvent(this.realElement,'click');if(this.savedEventObject&&this.savedEventObject.isDefaultPrevented()){this.realElement.prop('checked',this.stateChecked);this.currentActiveRadio.prop('checked',true);}else{this.fireNativeEvent(this.realElement,'change');}
delete this.savedEventObject;}},onFocus:function(){if(!this.pressedFlag||!this.focusedFlag){this.focusedFlag=true;this.fakeElement.addClass(this.options.focusClass);this.realElement.on('blur',this.onBlur);}},onBlur:function(){if(!this.pressedFlag){this.focusedFlag=false;this.fakeElement.removeClass(this.options.focusClass);this.realElement.off('blur',this.onBlur);}},onPress:function(e){if(!this.focusedFlag&&e.pointerType==='mouse'){this.realElement.focus();}
this.pressedFlag=true;this.fakeElement.addClass(this.options.pressedClass);this.doc.on('jcf-pointerup',this.onRelease);},onRelease:function(e){if(this.focusedFlag&&e.pointerType==='mouse'){this.realElement.focus();}
this.pressedFlag=false;this.fakeElement.removeClass(this.options.pressedClass);this.doc.off('jcf-pointerup',this.onRelease);},getCurrentActiveRadio:function(){return this.getRadioGroup(this.realElement).filter(':checked');},getRadioGroup:function(radio){var name=radio.attr('name'),parentForm=radio.parents('form');if(name){if(parentForm.length){return parentForm.find('input[name="'+name+'"]');}else{return $('input[name="'+name+'"]:not(form input)');}}else{return radio;}},getLabelFor:function(){var parentLabel=this.realElement.closest('label'),elementId=this.realElement.prop('id');if(!parentLabel.length&&elementId){parentLabel=$('label[for="'+elementId+'"]');}
return parentLabel.length?parentLabel:null;},refreshRadioGroup:function(){this.getRadioGroup(this.realElement).each(function(){jcf.refresh(this);});},refresh:function(){var isChecked=this.realElement.is(':checked'),isDisabled=this.realElement.is(':disabled');this.fakeElement.toggleClass(this.options.checkedClass,isChecked).toggleClass(this.options.uncheckedClass,!isChecked).toggleClass(this.options.disabledClass,isDisabled);if(this.labelElement){this.labelElement.toggleClass(this.options.labelActiveClass,isChecked);}},destroy:function(){if(this.options.wrapNative){this.realElement.insertBefore(this.fakeElement).css({position:'',width:'',height:'',opacity:'',margin:''});}else{this.realElement.removeClass(this.options.hiddenClass);}
this.fakeElement.off('jcf-pointerdown',this.onPress);this.fakeElement.remove();this.doc.off('jcf-pointerup',this.onRelease);this.realElement.off({blur:this.onBlur,focus:this.onFocus,click:this.onRealClick});}});}(jQuery));/*!
* JavaScript Custom Forms : Checkbox Module
*
* Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
* Released under the MIT license (LICENSE.txt)
*
* Version: 1.1.3
*/;(function($){'use strict';jcf.addModule({name:'Checkbox',selector:'input[type="checkbox"]',options:{wrapNative:true,checkedClass:'jcf-checked',uncheckedClass:'jcf-unchecked',labelActiveClass:'jcf-label-active',fakeStructure:'<span class="jcf-checkbox"><span></span></span>'},matchElement:function(element){return element.is(':checkbox');},init:function(){this.initStructure();this.attachEvents();this.refresh();},initStructure:function(){this.doc=$(document);this.realElement=$(this.options.element);this.fakeElement=$(this.options.fakeStructure).insertAfter(this.realElement);this.labelElement=this.getLabelFor();if(this.options.wrapNative){this.realElement.appendTo(this.fakeElement).css({position:'absolute',height:'100%',width:'100%',opacity:0,margin:0});}else{this.realElement.addClass(this.options.hiddenClass);}},attachEvents:function(){this.realElement.on({focus:this.onFocus,click:this.onRealClick});this.fakeElement.on('click',this.onFakeClick);this.fakeElement.on('jcf-pointerdown',this.onPress);},onRealClick:function(e){var self=this;this.savedEventObject=e;setTimeout(function(){self.refresh();},0);},onFakeClick:function(e){if(this.options.wrapNative&&this.realElement.is(e.target)){return;}
if(!this.realElement.is(':disabled')){delete this.savedEventObject;this.stateChecked=this.realElement.prop('checked');this.realElement.prop('checked',!this.stateChecked);this.fireNativeEvent(this.realElement,'click');if(this.savedEventObject&&this.savedEventObject.isDefaultPrevented()){this.realElement.prop('checked',this.stateChecked);}else{this.fireNativeEvent(this.realElement,'change');}
delete this.savedEventObject;}},onFocus:function(){if(!this.pressedFlag||!this.focusedFlag){this.focusedFlag=true;this.fakeElement.addClass(this.options.focusClass);this.realElement.on('blur',this.onBlur);}},onBlur:function(){if(!this.pressedFlag){this.focusedFlag=false;this.fakeElement.removeClass(this.options.focusClass);this.realElement.off('blur',this.onBlur);}},onPress:function(e){if(!this.focusedFlag&&e.pointerType==='mouse'){this.realElement.focus();}
this.pressedFlag=true;this.fakeElement.addClass(this.options.pressedClass);this.doc.on('jcf-pointerup',this.onRelease);},onRelease:function(e){if(this.focusedFlag&&e.pointerType==='mouse'){this.realElement.focus();}
this.pressedFlag=false;this.fakeElement.removeClass(this.options.pressedClass);this.doc.off('jcf-pointerup',this.onRelease);},getLabelFor:function(){var parentLabel=this.realElement.closest('label'),elementId=this.realElement.prop('id');if(!parentLabel.length&&elementId){parentLabel=$('label[for="'+elementId+'"]');}
return parentLabel.length?parentLabel:null;},refresh:function(){var isChecked=this.realElement.is(':checked'),isDisabled=this.realElement.is(':disabled');this.fakeElement.toggleClass(this.options.checkedClass,isChecked).toggleClass(this.options.uncheckedClass,!isChecked).toggleClass(this.options.disabledClass,isDisabled);if(this.labelElement){this.labelElement.toggleClass(this.options.labelActiveClass,isChecked);}},destroy:function(){if(this.options.wrapNative){this.realElement.insertBefore(this.fakeElement).css({position:'',width:'',height:'',opacity:'',margin:''});}else{this.realElement.removeClass(this.options.hiddenClass);}
this.fakeElement.off('jcf-pointerdown',this.onPress);this.fakeElement.remove();this.doc.off('jcf-pointerup',this.onRelease);this.realElement.off({focus:this.onFocus,click:this.onRealClick});}});}(jQuery));ResponsiveHelper=(function($){var handlers=[],prevWinWidth,win=$(window),nativeMatchMedia=false;if(window.matchMedia){if(window.Window&&window.matchMedia===Window.prototype.matchMedia){nativeMatchMedia=true;}else if(window.matchMedia.toString().indexOf('native')>-1){nativeMatchMedia=true;}}
function resizeHandler(){var winWidth=win.width();if(winWidth!==prevWinWidth){prevWinWidth=winWidth;$.each(handlers,function(index,rangeObject){$.each(rangeObject.data,function(property,item){if(item.currentActive&&!matchRange(item.range[0],item.range[1])){item.currentActive=false;if(typeof item.disableCallback==='function'){item.disableCallback();}}});$.each(rangeObject.data,function(property,item){if(!item.currentActive&&matchRange(item.range[0],item.range[1])){item.currentActive=true;if(typeof item.enableCallback==='function'){item.enableCallback();}}});});}}
win.bind('load resize orientationchange',resizeHandler);function matchRange(r1,r2){var mediaQueryString='';if(r1>0){mediaQueryString+='(min-width: '+r1+'px)';}
if(r2<Infinity){mediaQueryString+=(mediaQueryString?' and ':'')+'(max-width: '+r2+'px)';}
return matchQuery(mediaQueryString,r1,r2);}
function matchQuery(query,r1,r2){if(window.matchMedia&&nativeMatchMedia){return matchMedia(query).matches;}else if(window.styleMedia){return styleMedia.matchMedium(query);}else if(window.media){return media.matchMedium(query);}else{return prevWinWidth>=r1&&prevWinWidth<=r2;}}
function parseRange(rangeStr){var rangeData=rangeStr.split('..');var x1=parseInt(rangeData[0],10)||-Infinity;var x2=parseInt(rangeData[1],10)||Infinity;return[x1,x2].sort(function(a,b){return a-b;});}
return{addRange:function(ranges){var result={data:{}};$.each(ranges,function(property,data){result.data[property]={range:parseRange(property),enableCallback:data.on,disableCallback:data.off};});handlers.push(result);prevWinWidth=null;resizeHandler();}};}(jQuery));;(function($){function Marquee(options){this.options=$.extend({holder:null,handleFlexible:true,pauseOnHover:true,hoverClass:'hover',direction:'left',cloneClass:'cloned',mask:null,line:'>*',items:'>*',animSpeed:5,initialDelay:0},options);this.init();}
Marquee.prototype={init:function(){if(this.options.holder){this.initStructure();this.makeCallback('onInit',this);this.attachEvents();}},initStructure:function(){this.holder=$(this.options.holder);this.mask=this.options.mask?this.holder.find(this.options.mask):this.holder,this.line=this.mask.find(this.options.line),this.items=this.line.find(this.options.items);this.recalculateDimensions();this.cloneItems=this.items.clone().addClass(this.options.cloneClass).appendTo(this.line);if(this.itemHeight>=this.maskHeight){this.activeLine=true;this.offset=0;}else{this.activeLine=false;this.cloneItems.hide();this.offset=0;}
this.line.css({height:this.itemHeight*2,marginLeft:this.offset});},attachEvents:function(){var self=this;if(this.options.handleFlexible){this.resizeHandler=function(){self.recalculateDimensions();if(self.itemHeight<self.maskHeight){self.activeLine=false;self.cloneItems.hide();self.stopMoving();self.offset=0;self.line.css({marginLeft:self.offset});}else{self.activeLine=true;self.cloneItems.show();self.startMoving();}};$(window).bind('resize orientationchange',this.resizeHandler);}
if(this.options.pauseOnHover){this.hoverHandler=function(){self.stopMoving();self.holder.addClass(self.options.hoverClass);};this.leaveHandler=function(){self.startMoving();self.holder.removeClass(self.options.hoverClass);};this.holder.bind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler});}
setTimeout(function(){self.initialFlag=true;self.startMoving();},self.options.initialDelay||1);},recalculateDimensions:function(){var self=this;this.maskHeight=this.mask.height();this.itemHeight=1;this.items.each(function(){self.itemHeight+=$(this).outerHeight(true);});this.maxOffset=-this.itemHeight;},startMoving:function(){var self=this;if(self.activeLine&&self.initialFlag){var targetOffset=self.maxOffset;self.offset=parseInt(self.line.css('marginTop'),10)||0;self.line.stop().animate({marginTop:targetOffset},{duration:Math.abs(1000*(self.offset-targetOffset)/self.options.animSpeed),easing:'linear',complete:function(){self.offset=0;self.line.css({marginTop:self.offset});self.startMoving();},step:function(){self.makeCallback('onChange',self);}});}},stopMoving:function(){this.line.stop();},makeCallback:function(name){if(typeof this.options[name]==='function'){var args=Array.prototype.slice.call(arguments);args.shift();this.options[name].apply(this,args);}},destroy:function(){this.stopMoving();this.cloneItems.remove();this.line.css({marginTop:'',height:''});this.holder.removeClass(this.options.hoverClass);this.holder.unbind('mouseenter',this.hoverHandler);this.holder.unbind('mouseleave',this.leaveHandler);$(window).unbind('resize orientationchange',this.resizeHandler);$(window).off('resize',this.refreshSize);}};$.fn.marquee=function(opt){return this.each(function(){jQuery(this).data('Marquee',window.marquee1=new Marquee($.extend(opt,{holder:this})));});};}(jQuery));/*! Picturefill - v2.3.1 - 2015-04-09
* http://scottjehl.github.io/picturefill
* Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT */document.createElement('picture');window.matchMedia||(window.matchMedia=function(){"use strict";var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(a,b,c){"use strict";function d(b){"object"==typeof module&&"object"==typeof module.exports?module.exports=b:"function"==typeof define&&define.amd&&define("picturefill",function(){return b}),"object"==typeof a&&(a.picturefill=b)}function e(a){var b,c,d,e,f,i=a||{};b=i.elements||g.getAllElements();for(var j=0,k=b.length;k>j;j++)if(c=b[j],d=c.parentNode,e=void 0,f=void 0,"IMG"===c.nodeName.toUpperCase()&&(c[g.ns]||(c[g.ns]={}),i.reevaluate||!c[g.ns].evaluated)){if(d&&"PICTURE"===d.nodeName.toUpperCase()){if(g.removeVideoShim(d),e=g.getMatch(c,d),e===!1)continue}else e=void 0;(d&&"PICTURE"===d.nodeName.toUpperCase()||!g.sizesSupported&&c.srcset&&h.test(c.srcset))&&g.dodgeSrcset(c),e?(f=g.processSourceSet(e),g.applyBestCandidate(f,c)):(f=g.processSourceSet(c),(void 0===c.srcset||c[g.ns].srcset)&&g.applyBestCandidate(f,c)),c[g.ns].evaluated=!0}}function f(){function c(){clearTimeout(d),d=setTimeout(h,60)}g.initTypeDetects(),e();var d,f=setInterval(function(){return e(),/^loaded|^i|^c/.test(b.readyState)?void clearInterval(f):void 0},250),h=function(){e({reevaluate:!0})};a.addEventListener?a.addEventListener("resize",c,!1):a.attachEvent&&a.attachEvent("onresize",c)}if(a.HTMLPictureElement)return void d(function(){});b.createElement("picture");var g=a.picturefill||{},h=/\s+\+?\d+(e\d+)?w/;g.ns="picturefill",function(){g.srcsetSupported="srcset"in c,g.sizesSupported="sizes"in c,g.curSrcSupported="currentSrc"in c}(),g.trim=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},g.makeUrl=function(){var a=b.createElement("a");return function(b){return a.href=b,a.href}}(),g.restrictsMixedContent=function(){return"https:"===a.location.protocol},g.matchesMedia=function(b){return a.matchMedia&&a.matchMedia(b).matches},g.getDpr=function(){return a.devicePixelRatio||1},g.getWidthFromLength=function(a){var c;if(!a||a.indexOf("%")>-1!=!1||!(parseFloat(a)>0||a.indexOf("calc(")>-1))return!1;a=a.replace("vw","%"),g.lengthEl||(g.lengthEl=b.createElement("div"),g.lengthEl.style.cssText="border:0;display:block;font-size:1em;left:0;margin:0;padding:0;position:absolute;visibility:hidden",g.lengthEl.className="helper-from-picturefill-js"),g.lengthEl.style.width="0px";try{g.lengthEl.style.width=a}catch(d){}return b.body.appendChild(g.lengthEl),c=g.lengthEl.offsetWidth,0>=c&&(c=!1),b.body.removeChild(g.lengthEl),c},g.detectTypeSupport=function(b,c){var d=new a.Image;return d.onerror=function(){g.types[b]=!1,e()},d.onload=function(){g.types[b]=1===d.width,e()},d.src=c,"pending"},g.types=g.types||{},g.initTypeDetects=function(){g.types["image/jpeg"]=!0,g.types["image/gif"]=!0,g.types["image/png"]=!0,g.types["image/svg+xml"]=b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),g.types["image/webp"]=g.detectTypeSupport("image/webp","data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=")},g.verifyTypeSupport=function(a){var b=a.getAttribute("type");if(null===b||""===b)return!0;var c=g.types[b];return"string"==typeof c&&"pending"!==c?(g.types[b]=g.detectTypeSupport(b,c),"pending"):"function"==typeof c?(c(),"pending"):c},g.parseSize=function(a){var b=/(\([^)]+\))?\s*(.+)/g.exec(a);return{media:b&&b[1],length:b&&b[2]}},g.findWidthFromSourceSize=function(c){for(var d,e=g.trim(c).split(/\s*,\s*/),f=0,h=e.length;h>f;f++){var i=e[f],j=g.parseSize(i),k=j.length,l=j.media;if(k&&(!l||g.matchesMedia(l))&&(d=g.getWidthFromLength(k)))break}return d||Math.max(a.innerWidth||0,b.documentElement.clientWidth)},g.parseSrcset=function(a){for(var b=[];""!==a;){a=a.replace(/^\s+/g,"");var c,d=a.search(/\s/g),e=null;if(-1!==d){c=a.slice(0,d);var f=c.slice(-1);if((","===f||""===c)&&(c=c.replace(/,+$/,""),e=""),a=a.slice(d+1),null===e){var g=a.indexOf(",");-1!==g?(e=a.slice(0,g),a=a.slice(g+1)):(e=a,a="")}}else c=a,a="";(c||e)&&b.push({url:c,descriptor:e})}return b},g.parseDescriptor=function(a,b){var c,d=b||"100vw",e=a&&a.replace(/(^\s+|\s+$)/g,""),f=g.findWidthFromSourceSize(d);if(e)for(var h=e.split(" "),i=h.length-1;i>=0;i--){var j=h[i],k=j&&j.slice(j.length-1);if("h"!==k&&"w"!==k||g.sizesSupported){if("x"===k){var l=j&&parseFloat(j,10);c=l&&!isNaN(l)?l:1}}else c=parseFloat(parseInt(j,10)/f)}return c||1},g.getCandidatesFromSourceSet=function(a,b){for(var c=g.parseSrcset(a),d=[],e=0,f=c.length;f>e;e++){var h=c[e];d.push({url:h.url,resolution:g.parseDescriptor(h.descriptor,b)})}return d},g.dodgeSrcset=function(a){a.srcset&&(a[g.ns].srcset=a.srcset,a.srcset="",a.setAttribute("data-pfsrcset",a[g.ns].srcset))},g.processSourceSet=function(a){var b=a.getAttribute("srcset"),c=a.getAttribute("sizes"),d=[];return"IMG"===a.nodeName.toUpperCase()&&a[g.ns]&&a[g.ns].srcset&&(b=a[g.ns].srcset),b&&(d=g.getCandidatesFromSourceSet(b,c)),d},g.backfaceVisibilityFix=function(a){var b=a.style||{},c="webkitBackfaceVisibility"in b,d=b.zoom;c&&(b.zoom=".999",c=a.offsetWidth,b.zoom=d)},g.setIntrinsicSize=function(){var c={},d=function(a,b,c){b&&a.setAttribute("width",parseInt(b/c,10))};return function(e,f){var h;e[g.ns]&&!a.pfStopIntrinsicSize&&(void 0===e[g.ns].dims&&(e[g.ns].dims=e.getAttribute("width")||e.getAttribute("height")),e[g.ns].dims||(f.url in c?d(e,c[f.url],f.resolution):(h=b.createElement("img"),h.onload=function(){if(c[f.url]=h.width,!c[f.url])try{b.body.appendChild(h),c[f.url]=h.width||h.offsetWidth,b.body.removeChild(h)}catch(a){}e.src===f.url&&d(e,c[f.url],f.resolution),e=null,h.onload=null,h=null},h.src=f.url)))}}(),g.applyBestCandidate=function(a,b){var c,d,e;a.sort(g.ascendingSort),d=a.length,e=a[d-1];for(var f=0;d>f;f++)if(c=a[f],c.resolution>=g.getDpr()){e=c;break}e&&(e.url=g.makeUrl(e.url),b.src!==e.url&&(g.restrictsMixedContent()&&"http:"===e.url.substr(0,"http:".length).toLowerCase()?void 0!==window.console&&console.warn("Blocked mixed content image "+e.url):(b.src=e.url,g.curSrcSupported||(b.currentSrc=b.src),g.backfaceVisibilityFix(b))),g.setIntrinsicSize(b,e))},g.ascendingSort=function(a,b){return a.resolution-b.resolution},g.removeVideoShim=function(a){var b=a.getElementsByTagName("video");if(b.length){for(var c=b[0],d=c.getElementsByTagName("source");d.length;)a.insertBefore(d[0],c);c.parentNode.removeChild(c)}},g.getAllElements=function(){for(var a=[],c=b.getElementsByTagName("img"),d=0,e=c.length;e>d;d++){var f=c[d];("PICTURE"===f.parentNode.nodeName.toUpperCase()||null!==f.getAttribute("srcset")||f[g.ns]&&null!==f[g.ns].srcset)&&a.push(f)}return a},g.getMatch=function(a,b){for(var c,d=b.childNodes,e=0,f=d.length;f>e;e++){var h=d[e];if(1===h.nodeType){if(h===a)return c;if("SOURCE"===h.nodeName.toUpperCase()){null!==h.getAttribute("src")&&void 0!==typeof console&&console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.");var i=h.getAttribute("media");if(h.getAttribute("srcset")&&(!i||g.matchesMedia(i))){var j=g.verifyTypeSupport(h);if(j===!0){c=h;break}if("pending"===j)return!1}}}}return c},f(),e._=g,d(e)}(window,window.document,new window.Image);;(function($){function MarqueeHorizontal(options){this.options=$.extend({holder:null,handleFlexible:true,pauseOnHover:true,hoverClass:'hover',direction:'left',cloneClass:'cloned',mask:null,line:'>*',items:'>*',animSpeed:10,initialDelay:0},options);this.init();}
MarqueeHorizontal.prototype={init:function(){if(this.options.holder){this.initStructure();this.makeCallback('onInit',this);this.attachEvents();}},initStructure:function(){this.holder=$(this.options.holder);this.mask=this.options.mask?this.holder.find(this.options.mask):this.holder,this.line=this.mask.find(this.options.line),this.items=this.line.find(this.options.items).css({'float':'left'});this.direction=(this.options.direction==='left')?-1:1;this.recalculateDimensions();this.cloneItems=this.items.clone().addClass(this.options.cloneClass).appendTo(this.line);if(this.itemWidth>=this.maskWidth){this.activeLine=true;this.offset=(this.direction===-1?0:this.maxOffset);}else{this.activeLine=false;this.cloneItems.hide();this.offset=0;}
this.line.css({width:this.itemWidth*2,marginLeft:this.offset});},attachEvents:function(){var self=this;if(this.options.handleFlexible){this.resizeHandler=function(){self.recalculateDimensions();if(self.itemWidth<self.maskWidth){self.activeLine=false;self.cloneItems.hide();self.stopMoving();self.offset=0;self.line.css({marginLeft:self.offset});}else{self.activeLine=true;self.cloneItems.show();self.startMoving();}};$(window).bind('resize orientationchange',this.resizeHandler);}
if(this.options.pauseOnHover){this.hoverHandler=function(){self.stopMoving();self.holder.addClass(self.options.hoverClass);};this.leaveHandler=function(){self.startMoving();self.holder.removeClass(self.options.hoverClass);};this.holder.bind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler});}
setTimeout(function(){self.initialFlag=true;self.startMoving();},self.options.initialDelay||1);},recalculateDimensions:function(){var self=this;this.maskWidth=this.mask.width();this.itemWidth=1;this.items.each(function(){self.itemWidth+=$(this).outerWidth(true);});this.maxOffset=-this.itemWidth;},startMoving:function(){var self=this;if(self.activeLine&&self.initialFlag){var targetOffset=(self.direction<0?self.maxOffset:0);self.offset=parseInt(self.line.css('marginLeft'),10)||0;self.line.stop().animate({marginLeft:targetOffset},{duration:Math.abs(1000*(self.offset-targetOffset)/self.options.animSpeed),easing:'linear',complete:function(){self.offset=(self.direction<0?0:self.maxOffset);self.line.css({marginLeft:self.offset});self.startMoving();},step:function(){self.makeCallback('onChange',self);}});}},stopMoving:function(){this.line.stop();},makeCallback:function(name){if(typeof this.options[name]==='function'){var args=Array.prototype.slice.call(arguments);args.shift();this.options[name].apply(this,args);}},destroy:function(){this.stopMoving();this.cloneItems.remove();this.items.css({'float':''});this.line.css({marginLeft:'',width:''});this.holder.removeClass(this.options.hoverClass);this.holder.unbind('mouseenter',this.hoverHandler);this.holder.unbind('mouseleave',this.leaveHandler);$(window).unbind('resize orientationchange',this.resizeHandler);$(window).off('resize',this.refreshSize);}};$.fn.marqueeHorizontal=function(opt){return this.each(function(){jQuery(this).data('MarqueeHorizontal',window.marquee=new MarqueeHorizontal($.extend(opt,{holder:this})));});};}(jQuery));!function(t,e,i){!function(){var s,a,n,h="2.2.3",o="datepicker",r=".datepicker-here",c=!1,d='<div class="datepicker"><i class="datepicker--pointer"></i><nav class="datepicker--nav"></nav><div class="datepicker--content"></div></div>',l={classes:"",inline:!1,language:"ru",startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"@",toggleSelected:!0,keyboardNav:!0,position:"bottom left",offset:12,view:"days",minView:"days",showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:",",range:!1,todayButton:!1,clearButton:!1,showEvent:"focus",autoClose:!1,monthsField:"monthsShort",prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:"",onShow:"",onHide:"",onChangeMonth:"",onChangeYear:"",onChangeDecade:"",onChangeView:"",onRenderCell:""},u={ctrlRight:[17,39],ctrlUp:[17,38],ctrlLeft:[17,37],ctrlDown:[17,40],shiftRight:[16,39],shiftUp:[16,38],shiftLeft:[16,37],shiftDown:[16,40],altUp:[18,38],altRight:[18,39],altLeft:[18,37],altDown:[18,40],ctrlShiftUp:[16,17,38]},m=function(t,a){this.el=t,this.$el=e(t),this.opts=e.extend(!0,{},l,a,this.$el.data()),s==i&&(s=e("body")),this.opts.startDate||(this.opts.startDate=new Date),"INPUT"==this.el.nodeName&&(this.elIsInput=!0),this.opts.altField&&(this.$altField="string"==typeof this.opts.altField?e(this.opts.altField):this.opts.altField),this.inited=!1,this.visible=!1,this.silent=!1,this.currentDate=this.opts.startDate,this.currentView=this.opts.view,this._createShortCuts(),this.selectedDates=[],this.views={},this.keys=[],this.minRange="",this.maxRange="",this._prevOnSelectValue="",this.init()};n=m,n.prototype={VERSION:h,viewIndexes:["days","months","years"],init:function(){c||this.opts.inline||!this.elIsInput||this._buildDatepickersContainer(),this._buildBaseHtml(),this._defineLocale(this.opts.language),this._syncWithMinMaxDates(),this.elIsInput&&(this.opts.inline||(this._setPositionClasses(this.opts.position),this._bindEvents()),this.opts.keyboardNav&&!this.opts.onlyTimepicker&&this._bindKeyboardEvents(),this.$datepicker.on("mousedown",this._onMouseDownDatepicker.bind(this)),this.$datepicker.on("mouseup",this._onMouseUpDatepicker.bind(this))),this.opts.classes&&this.$datepicker.addClass(this.opts.classes),this.opts.timepicker&&(this.timepicker=new e.fn.datepicker.Timepicker(this,this.opts),this._bindTimepickerEvents()),this.opts.onlyTimepicker&&this.$datepicker.addClass("-only-timepicker-"),this.views[this.currentView]=new e.fn.datepicker.Body(this,this.currentView,this.opts),this.views[this.currentView].show(),this.nav=new e.fn.datepicker.Navigation(this,this.opts),this.view=this.currentView,this.$el.on("clickCell.adp",this._onClickCell.bind(this)),this.$datepicker.on("mouseenter",".datepicker--cell",this._onMouseEnterCell.bind(this)),this.$datepicker.on("mouseleave",".datepicker--cell",this._onMouseLeaveCell.bind(this)),this.inited=!0},_createShortCuts:function(){this.minDate=this.opts.minDate?this.opts.minDate:new Date(-86399999136e5),this.maxDate=this.opts.maxDate?this.opts.maxDate:new Date(86399999136e5)},_bindEvents:function(){this.$el.on(this.opts.showEvent+".adp",this._onShowEvent.bind(this)),this.$el.on("mouseup.adp",this._onMouseUpEl.bind(this)),this.$el.on("blur.adp",this._onBlur.bind(this)),this.$el.on("keyup.adp",this._onKeyUpGeneral.bind(this)),e(t).on("resize.adp",this._onResize.bind(this)),e("body").on("mouseup.adp",this._onMouseUpBody.bind(this))},_bindKeyboardEvents:function(){this.$el.on("keydown.adp",this._onKeyDown.bind(this)),this.$el.on("keyup.adp",this._onKeyUp.bind(this)),this.$el.on("hotKey.adp",this._onHotKey.bind(this))},_bindTimepickerEvents:function(){this.$el.on("timeChange.adp",this._onTimeChange.bind(this))},isWeekend:function(t){return-1!==this.opts.weekends.indexOf(t)},_defineLocale:function(t){"string"==typeof t?(this.loc=e.fn.datepicker.language[t],this.loc||(console.warn("Can't find language \""+t+'" in Datepicker.language, will use "ru" instead'),this.loc=e.extend(!0,{},e.fn.datepicker.language.ru)),this.loc=e.extend(!0,{},e.fn.datepicker.language.ru,e.fn.datepicker.language[t])):this.loc=e.extend(!0,{},e.fn.datepicker.language.ru,t),this.opts.dateFormat&&(this.loc.dateFormat=this.opts.dateFormat),this.opts.timeFormat&&(this.loc.timeFormat=this.opts.timeFormat),""!==this.opts.firstDay&&(this.loc.firstDay=this.opts.firstDay),this.opts.timepicker&&(this.loc.dateFormat=[this.loc.dateFormat,this.loc.timeFormat].join(this.opts.dateTimeSeparator)),this.opts.onlyTimepicker&&(this.loc.dateFormat=this.loc.timeFormat);var i=this._getWordBoundaryRegExp;(this.loc.timeFormat.match(i("aa"))||this.loc.timeFormat.match(i("AA")))&&(this.ampm=!0)},_buildDatepickersContainer:function(){c=!0,s.append('<div class="datepickers-container" id="datepickers-container"></div>'),a=e("#datepickers-container")},_buildBaseHtml:function(){var t,i=e('<div class="datepicker-inline">');t="INPUT"==this.el.nodeName?this.opts.inline?i.insertAfter(this.$el):a:i.appendTo(this.$el),this.$datepicker=e(d).appendTo(t),this.$content=e(".datepicker--content",this.$datepicker),this.$nav=e(".datepicker--nav",this.$datepicker)},_triggerOnChange:function(){if(!this.selectedDates.length){if(""===this._prevOnSelectValue)return;return this._prevOnSelectValue="",this.opts.onSelect("","",this)}var t,e=this.selectedDates,i=n.getParsedDate(e[0]),s=this,a=new Date(i.year,i.month,i.date,i.hours,i.minutes);t=e.map(function(t){return s.formatDate(s.loc.dateFormat,t)}).join(this.opts.multipleDatesSeparator),(this.opts.multipleDates||this.opts.range)&&(a=e.map(function(t){var e=n.getParsedDate(t);return new Date(e.year,e.month,e.date,e.hours,e.minutes)})),this._prevOnSelectValue=t,this.opts.onSelect(t,a,this)},next:function(){var t=this.parsedDate,e=this.opts;switch(this.view){case"days":this.date=new Date(t.year,t.month+1,1),e.onChangeMonth&&e.onChangeMonth(this.parsedDate.month,this.parsedDate.year);break;case"months":this.date=new Date(t.year+1,t.month,1),e.onChangeYear&&e.onChangeYear(this.parsedDate.year);break;case"years":this.date=new Date(t.year+10,0,1),e.onChangeDecade&&e.onChangeDecade(this.curDecade)}},prev:function(){var t=this.parsedDate,e=this.opts;switch(this.view){case"days":this.date=new Date(t.year,t.month-1,1),e.onChangeMonth&&e.onChangeMonth(this.parsedDate.month,this.parsedDate.year);break;case"months":this.date=new Date(t.year-1,t.month,1),e.onChangeYear&&e.onChangeYear(this.parsedDate.year);break;case"years":this.date=new Date(t.year-10,0,1),e.onChangeDecade&&e.onChangeDecade(this.curDecade)}},formatDate:function(t,e){e=e||this.date;var i,s=t,a=this._getWordBoundaryRegExp,h=this.loc,o=n.getLeadingZeroNum,r=n.getDecade(e),c=n.getParsedDate(e),d=c.fullHours,l=c.hours,u=t.match(a("aa"))||t.match(a("AA")),m="am",p=this._replacer;switch(this.opts.timepicker&&this.timepicker&&u&&(i=this.timepicker._getValidHoursFromDate(e,u),d=o(i.hours),l=i.hours,m=i.dayPeriod),!0){case/@/.test(s):s=s.replace(/@/,e.getTime());case/aa/.test(s):s=p(s,a("aa"),m);case/AA/.test(s):s=p(s,a("AA"),m.toUpperCase());case/dd/.test(s):s=p(s,a("dd"),c.fullDate);case/d/.test(s):s=p(s,a("d"),c.date);case/DD/.test(s):s=p(s,a("DD"),h.days[c.day]);case/D/.test(s):s=p(s,a("D"),h.daysShort[c.day]);case/mm/.test(s):s=p(s,a("mm"),c.fullMonth);case/m/.test(s):s=p(s,a("m"),c.month+1);case/MM/.test(s):s=p(s,a("MM"),this.loc.months[c.month]);case/M/.test(s):s=p(s,a("M"),h.monthsShort[c.month]);case/ii/.test(s):s=p(s,a("ii"),c.fullMinutes);case/i/.test(s):s=p(s,a("i"),c.minutes);case/hh/.test(s):s=p(s,a("hh"),d);case/h/.test(s):s=p(s,a("h"),l);case/yyyy/.test(s):s=p(s,a("yyyy"),c.year);case/yyyy1/.test(s):s=p(s,a("yyyy1"),r[0]);case/yyyy2/.test(s):s=p(s,a("yyyy2"),r[1]);case/yy/.test(s):s=p(s,a("yy"),c.year.toString().slice(-2))}return s},_replacer:function(t,e,i){return t.replace(e,function(t,e,s,a){return e+i+a})},_getWordBoundaryRegExp:function(t){var e="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+e+")("+t+")($|<|"+e+")","g")},selectDate:function(t){var e=this,i=e.opts,s=e.parsedDate,a=e.selectedDates,h=a.length,o="";if(Array.isArray(t))return void t.forEach(function(t){e.selectDate(t)});if(t instanceof Date){if(this.lastSelectedDate=t,this.timepicker&&this.timepicker._setTime(t),e._trigger("selectDate",t),this.timepicker&&(t.setHours(this.timepicker.hours),t.setMinutes(this.timepicker.minutes)),"days"==e.view&&t.getMonth()!=s.month&&i.moveToOtherMonthsOnSelect&&(o=new Date(t.getFullYear(),t.getMonth(),1)),"years"==e.view&&t.getFullYear()!=s.year&&i.moveToOtherYearsOnSelect&&(o=new Date(t.getFullYear(),0,1)),o&&(e.silent=!0,e.date=o,e.silent=!1,e.nav._render()),i.multipleDates&&!i.range){if(h===i.multipleDates)return;e._isSelected(t)||e.selectedDates.push(t)}else i.range?2==h?(e.selectedDates=[t],e.minRange=t,e.maxRange=""):1==h?(e.selectedDates.push(t),e.maxRange?e.minRange=t:e.maxRange=t,n.bigger(e.maxRange,e.minRange)&&(e.maxRange=e.minRange,e.minRange=t),e.selectedDates=[e.minRange,e.maxRange]):(e.selectedDates=[t],e.minRange=t):e.selectedDates=[t];e._setInputValue(),i.onSelect&&e._triggerOnChange(),i.autoClose&&!this.timepickerIsActive&&(i.multipleDates||i.range?i.range&&2==e.selectedDates.length&&e.hide():e.hide()),e.views[this.currentView]._render()}},removeDate:function(t){var e=this.selectedDates,i=this;if(t instanceof Date)return e.some(function(s,a){return n.isSame(s,t)?(e.splice(a,1),i.selectedDates.length?i.lastSelectedDate=i.selectedDates[i.selectedDates.length-1]:(i.minRange="",i.maxRange="",i.lastSelectedDate=""),i.views[i.currentView]._render(),i._setInputValue(),i.opts.onSelect&&i._triggerOnChange(),!0):void 0})},today:function(){this.silent=!0,this.view=this.opts.minView,this.silent=!1,this.date=new Date,this.opts.todayButton instanceof Date&&this.selectDate(this.opts.todayButton)},clear:function(){this.selectedDates=[],this.minRange="",this.maxRange="",this.views[this.currentView]._render(),this._setInputValue(),this.opts.onSelect&&this._triggerOnChange()},update:function(t,i){var s=arguments.length,a=this.lastSelectedDate;return 2==s?this.opts[t]=i:1==s&&"object"==typeof t&&(this.opts=e.extend(!0,this.opts,t)),this._createShortCuts(),this._syncWithMinMaxDates(),this._defineLocale(this.opts.language),this.nav._addButtonsIfNeed(),this.opts.onlyTimepicker||this.nav._render(),this.views[this.currentView]._render(),this.elIsInput&&!this.opts.inline&&(this._setPositionClasses(this.opts.position),this.visible&&this.setPosition(this.opts.position)),this.opts.classes&&this.$datepicker.addClass(this.opts.classes),this.opts.onlyTimepicker&&this.$datepicker.addClass("-only-timepicker-"),this.opts.timepicker&&(a&&this.timepicker._handleDate(a),this.timepicker._updateRanges(),this.timepicker._updateCurrentTime(),a&&(a.setHours(this.timepicker.hours),a.setMinutes(this.timepicker.minutes))),this._setInputValue(),this},_syncWithMinMaxDates:function(){var t=this.date.getTime();this.silent=!0,this.minTime>t&&(this.date=this.minDate),this.maxTime<t&&(this.date=this.maxDate),this.silent=!1},_isSelected:function(t,e){var i=!1;return this.selectedDates.some(function(s){return n.isSame(s,t,e)?(i=s,!0):void 0}),i},_setInputValue:function(){var t,e=this,i=e.opts,s=e.loc.dateFormat,a=i.altFieldDateFormat,n=e.selectedDates.map(function(t){return e.formatDate(s,t)});i.altField&&e.$altField.length&&(t=this.selectedDates.map(function(t){return e.formatDate(a,t)}),t=t.join(this.opts.multipleDatesSeparator),this.$altField.val(t)),n=n.join(this.opts.multipleDatesSeparator),this.$el.val(n)},_isInRange:function(t,e){var i=t.getTime(),s=n.getParsedDate(t),a=n.getParsedDate(this.minDate),h=n.getParsedDate(this.maxDate),o=new Date(s.year,s.month,a.date).getTime(),r=new Date(s.year,s.month,h.date).getTime(),c={day:i>=this.minTime&&i<=this.maxTime,month:o>=this.minTime&&r<=this.maxTime,year:s.year>=a.year&&s.year<=h.year};return e?c[e]:c.day},_getDimensions:function(t){var e=t.offset();return{width:t.outerWidth(),height:t.outerHeight(),left:e.left,top:e.top}},_getDateFromCell:function(t){var e=this.parsedDate,s=t.data("year")||e.year,a=t.data("month")==i?e.month:t.data("month"),n=t.data("date")||1;return new Date(s,a,n)},_setPositionClasses:function(t){t=t.split(" ");var e=t[0],i=t[1],s="datepicker -"+e+"-"+i+"- -from-"+e+"-";this.visible&&(s+=" active"),this.$datepicker.removeAttr("class").addClass(s)},setPosition:function(t){t=t||this.opts.position;var e,i,s=this._getDimensions(this.$el),a=this._getDimensions(this.$datepicker),n=t.split(" "),h=this.opts.offset,o=n[0],r=n[1];switch(o){case"top":e=s.top-a.height-h;break;case"right":i=s.left+s.width+h;break;case"bottom":e=s.top+s.height+h;break;case"left":i=s.left-a.width-h}switch(r){case"top":e=s.top;break;case"right":i=s.left+s.width-a.width;break;case"bottom":e=s.top+s.height-a.height;break;case"left":i=s.left;break;case"center":/left|right/.test(o)?e=s.top+s.height/2-a.height/2:i=s.left+s.width/2-a.width/2}this.$datepicker.css({left:i,top:e})},show:function(){var t=this.opts.onShow;this.setPosition(this.opts.position),this.$datepicker.addClass("active"),this.visible=!0,t&&this._bindVisionEvents(t)},hide:function(){var t=this.opts.onHide;this.$datepicker.removeClass("active").css({left:"-100000px"}),this.focused="",this.keys=[],this.inFocus=!1,this.visible=!1,this.$el.blur(),t&&this._bindVisionEvents(t)},down:function(t){this._changeView(t,"down")},up:function(t){this._changeView(t,"up")},_bindVisionEvents:function(t){this.$datepicker.off("transitionend.dp"),t(this,!1),this.$datepicker.one("transitionend.dp",t.bind(this,this,!0))},_changeView:function(t,e){t=t||this.focused||this.date;var i="up"==e?this.viewIndex+1:this.viewIndex-1;i>2&&(i=2),0>i&&(i=0),this.silent=!0,this.date=new Date(t.getFullYear(),t.getMonth(),1),this.silent=!1,this.view=this.viewIndexes[i]},_handleHotKey:function(t){var e,i,s,a=n.getParsedDate(this._getFocusedDate()),h=this.opts,o=!1,r=!1,c=!1,d=a.year,l=a.month,u=a.date;switch(t){case"ctrlRight":case"ctrlUp":l+=1,o=!0;break;case"ctrlLeft":case"ctrlDown":l-=1,o=!0;break;case"shiftRight":case"shiftUp":r=!0,d+=1;break;case"shiftLeft":case"shiftDown":r=!0,d-=1;break;case"altRight":case"altUp":c=!0,d+=10;break;case"altLeft":case"altDown":c=!0,d-=10;break;case"ctrlShiftUp":this.up()}s=n.getDaysCount(new Date(d,l)),i=new Date(d,l,u),u>s&&(u=s),i.getTime()<this.minTime?i=this.minDate:i.getTime()>this.maxTime&&(i=this.maxDate),this.focused=i,e=n.getParsedDate(i),o&&h.onChangeMonth&&h.onChangeMonth(e.month,e.year),r&&h.onChangeYear&&h.onChangeYear(e.year),c&&h.onChangeDecade&&h.onChangeDecade(this.curDecade)},_registerKey:function(t){var e=this.keys.some(function(e){return e==t});e||this.keys.push(t)},_unRegisterKey:function(t){var e=this.keys.indexOf(t);this.keys.splice(e,1)},_isHotKeyPressed:function(){var t,e=!1,i=this,s=this.keys.sort();for(var a in u)t=u[a],s.length==t.length&&t.every(function(t,e){return t==s[e]})&&(i._trigger("hotKey",a),e=!0);return e},_trigger:function(t,e){this.$el.trigger(t,e)},_focusNextCell:function(t,e){e=e||this.cellType;var i=n.getParsedDate(this._getFocusedDate()),s=i.year,a=i.month,h=i.date;if(!this._isHotKeyPressed()){switch(t){case 37:"day"==e?h-=1:"","month"==e?a-=1:"","year"==e?s-=1:"";break;case 38:"day"==e?h-=7:"","month"==e?a-=3:"","year"==e?s-=4:"";break;case 39:"day"==e?h+=1:"","month"==e?a+=1:"","year"==e?s+=1:"";break;case 40:"day"==e?h+=7:"","month"==e?a+=3:"","year"==e?s+=4:""}var o=new Date(s,a,h);o.getTime()<this.minTime?o=this.minDate:o.getTime()>this.maxTime&&(o=this.maxDate),this.focused=o}},_getFocusedDate:function(){var t=this.focused||this.selectedDates[this.selectedDates.length-1],e=this.parsedDate;if(!t)switch(this.view){case"days":t=new Date(e.year,e.month,(new Date).getDate());break;case"months":t=new Date(e.year,e.month,1);break;case"years":t=new Date(e.year,0,1)}return t},_getCell:function(t,i){i=i||this.cellType;var s,a=n.getParsedDate(t),h='.datepicker--cell[data-year="'+a.year+'"]';switch(i){case"month":h='[data-month="'+a.month+'"]';break;case"day":h+='[data-month="'+a.month+'"][data-date="'+a.date+'"]'}return s=this.views[this.currentView].$el.find(h),s.length?s:e("")},destroy:function(){var t=this;t.$el.off(".adp").data("datepicker",""),t.selectedDates=[],t.focused="",t.views={},t.keys=[],t.minRange="",t.maxRange="",t.opts.inline||!t.elIsInput?t.$datepicker.closest(".datepicker-inline").remove():t.$datepicker.remove()},_handleAlreadySelectedDates:function(t,e){this.opts.range?this.opts.toggleSelected?this.removeDate(e):2!=this.selectedDates.length&&this._trigger("clickCell",e):this.opts.toggleSelected&&this.removeDate(e),this.opts.toggleSelected||(this.lastSelectedDate=t,this.opts.timepicker&&(this.timepicker._setTime(t),this.timepicker.update()))},_onShowEvent:function(t){this.visible||this.show()},_onBlur:function(){!this.inFocus&&this.visible&&this.hide()},_onMouseDownDatepicker:function(t){this.inFocus=!0},_onMouseUpDatepicker:function(t){this.inFocus=!1,t.originalEvent.inFocus=!0,t.originalEvent.timepickerFocus||this.$el.focus()},_onKeyUpGeneral:function(t){var e=this.$el.val();e||this.clear()},_onResize:function(){this.visible&&this.setPosition()},_onMouseUpBody:function(t){t.originalEvent.inFocus||this.visible&&!this.inFocus&&this.hide()},_onMouseUpEl:function(t){t.originalEvent.inFocus=!0,setTimeout(this._onKeyUpGeneral.bind(this),4)},_onKeyDown:function(t){var e=t.which;if(this._registerKey(e),e>=37&&40>=e&&(t.preventDefault(),this._focusNextCell(e)),13==e&&this.focused){if(this._getCell(this.focused).hasClass("-disabled-"))return;if(this.view!=this.opts.minView)this.down();else{var i=this._isSelected(this.focused,this.cellType);if(!i)return this.timepicker&&(this.focused.setHours(this.timepicker.hours),this.focused.setMinutes(this.timepicker.minutes)),void this.selectDate(this.focused);this._handleAlreadySelectedDates(i,this.focused)}}27==e&&this.hide()},_onKeyUp:function(t){var e=t.which;this._unRegisterKey(e)},_onHotKey:function(t,e){this._handleHotKey(e)},_onMouseEnterCell:function(t){var i=e(t.target).closest(".datepicker--cell"),s=this._getDateFromCell(i);this.silent=!0,this.focused&&(this.focused=""),i.addClass("-focus-"),this.focused=s,this.silent=!1,this.opts.range&&1==this.selectedDates.length&&(this.minRange=this.selectedDates[0],this.maxRange="",n.less(this.minRange,this.focused)&&(this.maxRange=this.minRange,this.minRange=""),this.views[this.currentView]._update())},_onMouseLeaveCell:function(t){var i=e(t.target).closest(".datepicker--cell");i.removeClass("-focus-"),this.silent=!0,this.focused="",this.silent=!1},_onTimeChange:function(t,e,i){var s=new Date,a=this.selectedDates,n=!1;a.length&&(n=!0,s=this.lastSelectedDate),s.setHours(e),s.setMinutes(i),n||this._getCell(s).hasClass("-disabled-")?(this._setInputValue(),this.opts.onSelect&&this._triggerOnChange()):this.selectDate(s)},_onClickCell:function(t,e){this.timepicker&&(e.setHours(this.timepicker.hours),e.setMinutes(this.timepicker.minutes)),this.selectDate(e)},set focused(t){if(!t&&this.focused){var e=this._getCell(this.focused);e.length&&e.removeClass("-focus-")}this._focused=t,this.opts.range&&1==this.selectedDates.length&&(this.minRange=this.selectedDates[0],this.maxRange="",n.less(this.minRange,this._focused)&&(this.maxRange=this.minRange,this.minRange="")),this.silent||(this.date=t)},get focused(){return this._focused},get parsedDate(){return n.getParsedDate(this.date)},set date(t){return t instanceof Date?(this.currentDate=t,this.inited&&!this.silent&&(this.views[this.view]._render(),this.nav._render(),this.visible&&this.elIsInput&&this.setPosition()),t):void 0},get date(){return this.currentDate},set view(t){return this.viewIndex=this.viewIndexes.indexOf(t),this.viewIndex<0?void 0:(this.prevView=this.currentView,this.currentView=t,this.inited&&(this.views[t]?this.views[t]._render():this.views[t]=new e.fn.datepicker.Body(this,t,this.opts),this.views[this.prevView].hide(),this.views[t].show(),this.nav._render(),this.opts.onChangeView&&this.opts.onChangeView(t),this.elIsInput&&this.visible&&this.setPosition()),t)},get view(){return this.currentView},get cellType(){return this.view.substring(0,this.view.length-1)},get minTime(){var t=n.getParsedDate(this.minDate);return new Date(t.year,t.month,t.date).getTime()},get maxTime(){var t=n.getParsedDate(this.maxDate);return new Date(t.year,t.month,t.date).getTime()},get curDecade(){return n.getDecade(this.date)}},n.getDaysCount=function(t){return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},n.getParsedDate=function(t){return{year:t.getFullYear(),month:t.getMonth(),fullMonth:t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,date:t.getDate(),fullDate:t.getDate()<10?"0"+t.getDate():t.getDate(),day:t.getDay(),hours:t.getHours(),fullHours:t.getHours()<10?"0"+t.getHours():t.getHours(),minutes:t.getMinutes(),fullMinutes:t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes()}},n.getDecade=function(t){var e=10*Math.floor(t.getFullYear()/10);return[e,e+9]},n.template=function(t,e){return t.replace(/#\{([\w]+)\}/g,function(t,i){return e[i]||0===e[i]?e[i]:void 0})},n.isSame=function(t,e,i){if(!t||!e)return!1;var s=n.getParsedDate(t),a=n.getParsedDate(e),h=i?i:"day",o={day:s.date==a.date&&s.month==a.month&&s.year==a.year,month:s.month==a.month&&s.year==a.year,year:s.year==a.year};return o[h]},n.less=function(t,e,i){return t&&e?e.getTime()<t.getTime():!1},n.bigger=function(t,e,i){return t&&e?e.getTime()>t.getTime():!1},n.getLeadingZeroNum=function(t){return parseInt(t)<10?"0"+t:t},n.resetTime=function(t){return"object"==typeof t?(t=n.getParsedDate(t),new Date(t.year,t.month,t.date)):void 0},e.fn.datepicker=function(t){return this.each(function(){if(e.data(this,o)){var i=e.data(this,o);i.opts=e.extend(!0,i.opts,t),i.update()}else e.data(this,o,new m(this,t))})},e.fn.datepicker.Constructor=m,e.fn.datepicker.language={ru:{days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",clear:"",dateFormat:"dd.mm.yyyy",timeFormat:"hh:ii",firstDay:1}},e(function(){e(r).datepicker()})}(),function(){var t={days:'<div class="datepicker--days datepicker--body"><div class="datepicker--days-names"></div><div class="datepicker--cells datepicker--cells-days"></div></div>',months:'<div class="datepicker--months datepicker--body"><div class="datepicker--cells datepicker--cells-months"></div></div>',years:'<div class="datepicker--years datepicker--body"><div class="datepicker--cells datepicker--cells-years"></div></div>'},s=e.fn.datepicker,a=s.Constructor;s.Body=function(t,i,s){this.d=t,this.type=i,this.opts=s,this.$el=e(""),this.opts.onlyTimepicker||this.init()},s.Body.prototype={init:function(){this._buildBaseHtml(),this._render(),this._bindEvents()},_bindEvents:function(){this.$el.on("click",".datepicker--cell",e.proxy(this._onClickCell,this))},_buildBaseHtml:function(){this.$el=e(t[this.type]).appendTo(this.d.$content),this.$names=e(".datepicker--days-names",this.$el),this.$cells=e(".datepicker--cells",this.$el)},_getDayNamesHtml:function(t,e,s,a){return e=e!=i?e:t,s=s?s:"",a=a!=i?a:0,a>7?s:7==e?this._getDayNamesHtml(t,0,s,++a):(s+='<div class="datepicker--day-name'+(this.d.isWeekend(e)?" -weekend-":"")+'">'+this.d.loc.daysMin[e]+"</div>",this._getDayNamesHtml(t,++e,s,++a))},_getCellContents:function(t,e){var i="datepicker--cell datepicker--cell-"+e,s=new Date,n=this.d,h=a.resetTime(n.minRange),o=a.resetTime(n.maxRange),r=n.opts,c=a.getParsedDate(t),d={},l=c.date;switch(e){case"day":n.isWeekend(c.day)&&(i+=" -weekend-"),c.month!=this.d.parsedDate.month&&(i+=" -other-month-",r.selectOtherMonths||(i+=" -disabled-"),r.showOtherMonths||(l=""));break;case"month":l=n.loc[n.opts.monthsField][c.month];break;case"year":var u=n.curDecade;l=c.year,(c.year<u[0]||c.year>u[1])&&(i+=" -other-decade-",r.selectOtherYears||(i+=" -disabled-"),r.showOtherYears||(l=""))}return r.onRenderCell&&(d=r.onRenderCell(t,e)||{},l=d.html?d.html:l,i+=d.classes?" "+d.classes:""),r.range&&(a.isSame(h,t,e)&&(i+=" -range-from-"),a.isSame(o,t,e)&&(i+=" -range-to-"),1==n.selectedDates.length&&n.focused?((a.bigger(h,t)&&a.less(n.focused,t)||a.less(o,t)&&a.bigger(n.focused,t))&&(i+=" -in-range-"),a.less(o,t)&&a.isSame(n.focused,t)&&(i+=" -range-from-"),a.bigger(h,t)&&a.isSame(n.focused,t)&&(i+=" -range-to-")):2==n.selectedDates.length&&a.bigger(h,t)&&a.less(o,t)&&(i+=" -in-range-")),a.isSame(s,t,e)&&(i+=" -current-"),n.focused&&a.isSame(t,n.focused,e)&&(i+=" -focus-"),n._isSelected(t,e)&&(i+=" -selected-"),(!n._isInRange(t,e)||d.disabled)&&(i+=" -disabled-"),{html:l,classes:i}},_getDaysHtml:function(t){var e=a.getDaysCount(t),i=new Date(t.getFullYear(),t.getMonth(),1).getDay(),s=new Date(t.getFullYear(),t.getMonth(),e).getDay(),n=i-this.d.loc.firstDay,h=6-s+this.d.loc.firstDay;n=0>n?n+7:n,h=h>6?h-7:h;for(var o,r,c=-n+1,d="",l=c,u=e+h;u>=l;l++)r=t.getFullYear(),o=t.getMonth(),d+=this._getDayHtml(new Date(r,o,l));return d},_getDayHtml:function(t){var e=this._getCellContents(t,"day");return'<div class="'+e.classes+'" data-date="'+t.getDate()+'" data-month="'+t.getMonth()+'" data-year="'+t.getFullYear()+'">'+e.html+"</div>"},_getMonthsHtml:function(t){for(var e="",i=a.getParsedDate(t),s=0;12>s;)e+=this._getMonthHtml(new Date(i.year,s)),s++;return e},_getMonthHtml:function(t){var e=this._getCellContents(t,"month");return'<div class="'+e.classes+'" data-month="'+t.getMonth()+'">'+e.html+"</div>"},_getYearsHtml:function(t){var e=(a.getParsedDate(t),a.getDecade(t)),i=e[0]-1,s="",n=i;for(n;n<=e[1]+1;n++)s+=this._getYearHtml(new Date(n,0));return s},_getYearHtml:function(t){var e=this._getCellContents(t,"year");return'<div class="'+e.classes+'" data-year="'+t.getFullYear()+'">'+e.html+"</div>"},_renderTypes:{days:function(){var t=this._getDayNamesHtml(this.d.loc.firstDay),e=this._getDaysHtml(this.d.currentDate);this.$cells.html(e),this.$names.html(t)},months:function(){var t=this._getMonthsHtml(this.d.currentDate);this.$cells.html(t)},years:function(){var t=this._getYearsHtml(this.d.currentDate);this.$cells.html(t)}},_render:function(){this.opts.onlyTimepicker||this._renderTypes[this.type].bind(this)()},_update:function(){var t,i,s,a=e(".datepicker--cell",this.$cells),n=this;a.each(function(a,h){i=e(this),s=n.d._getDateFromCell(e(this)),t=n._getCellContents(s,n.d.cellType),i.attr("class",t.classes)})},show:function(){this.opts.onlyTimepicker||(this.$el.addClass("active"),this.acitve=!0)},hide:function(){this.$el.removeClass("active"),this.active=!1},_handleClick:function(t){var e=t.data("date")||1,i=t.data("month")||0,s=t.data("year")||this.d.parsedDate.year,a=this.d;if(a.view!=this.opts.minView)return void a.down(new Date(s,i,e));var n=new Date(s,i,e),h=this.d._isSelected(n,this.d.cellType);return h?void a._handleAlreadySelectedDates.bind(a,h,n)():void a._trigger("clickCell",n)},_onClickCell:function(t){var i=e(t.target).closest(".datepicker--cell");i.hasClass("-disabled-")||this._handleClick.bind(this)(i)}}}(),function(){var t='<div class="datepicker--nav-action" data-action="prev">#{prevHtml}</div><div class="datepicker--nav-title">#{title}</div><div class="datepicker--nav-action" data-action="next">#{nextHtml}</div>',i='<div class="datepicker--buttons"></div>',s='<span class="datepicker--button" data-action="#{action}">#{label}</span>',a=e.fn.datepicker,n=a.Constructor;a.Navigation=function(t,e){this.d=t,this.opts=e,this.$buttonsContainer="",this.init()},a.Navigation.prototype={init:function(){this._buildBaseHtml(),this._bindEvents()},_bindEvents:function(){this.d.$nav.on("click",".datepicker--nav-action",e.proxy(this._onClickNavButton,this)),this.d.$nav.on("click",".datepicker--nav-title",e.proxy(this._onClickNavTitle,this)),this.d.$datepicker.on("click",".datepicker--button",e.proxy(this._onClickNavButton,this))},_buildBaseHtml:function(){this.opts.onlyTimepicker||this._render(),this._addButtonsIfNeed()},_addButtonsIfNeed:function(){this.opts.todayButton&&this._addButton("today"),this.opts.clearButton&&this._addButton("clear")},_render:function(){var i=this._getTitle(this.d.currentDate),s=n.template(t,e.extend({title:i},this.opts));this.d.$nav.html(s),"years"==this.d.view&&e(".datepicker--nav-title",this.d.$nav).addClass("-disabled-"),this.setNavStatus()},_getTitle:function(t){return this.d.formatDate(this.opts.navTitles[this.d.view],t)},_addButton:function(t){this.$buttonsContainer.length||this._addButtonsContainer();var i={action:t,label:this.d.loc[t]},a=n.template(s,i);e("[data-action="+t+"]",this.$buttonsContainer).length||this.$buttonsContainer.append(a)},_addButtonsContainer:function(){this.d.$datepicker.append(i),this.$buttonsContainer=e(".datepicker--buttons",this.d.$datepicker)},setNavStatus:function(){if((this.opts.minDate||this.opts.maxDate)&&this.opts.disableNavWhenOutOfRange){var t=this.d.parsedDate,e=t.month,i=t.year,s=t.date;switch(this.d.view){case"days":this.d._isInRange(new Date(i,e-1,1),"month")||this._disableNav("prev"),this.d._isInRange(new Date(i,e+1,1),"month")||this._disableNav("next");break;case"months":this.d._isInRange(new Date(i-1,e,s),"year")||this._disableNav("prev"),this.d._isInRange(new Date(i+1,e,s),"year")||this._disableNav("next");break;case"years":var a=n.getDecade(this.d.date);this.d._isInRange(new Date(a[0]-1,0,1),"year")||this._disableNav("prev"),this.d._isInRange(new Date(a[1]+1,0,1),"year")||this._disableNav("next")}}},_disableNav:function(t){e('[data-action="'+t+'"]',this.d.$nav).addClass("-disabled-")},_activateNav:function(t){e('[data-action="'+t+'"]',this.d.$nav).removeClass("-disabled-")},_onClickNavButton:function(t){var i=e(t.target).closest("[data-action]"),s=i.data("action");this.d[s]()},_onClickNavTitle:function(t){return e(t.target).hasClass("-disabled-")?void 0:"days"==this.d.view?this.d.view="months":void(this.d.view="years")}}}(),function(){var t='<div class="datepicker--time"><div class="datepicker--time-current">   <span class="datepicker--time-current-hours">#{hourVisible}</span>   <span class="datepicker--time-current-colon">:</span>   <span class="datepicker--time-current-minutes">#{minValue}</span></div><div class="datepicker--time-sliders">   <div class="datepicker--time-row">      <input type="range" name="hours" value="#{hourValue}" min="#{hourMin}" max="#{hourMax}" step="#{hourStep}"/>   </div>   <div class="datepicker--time-row">      <input type="range" name="minutes" value="#{minValue}" min="#{minMin}" max="#{minMax}" step="#{minStep}"/>   </div></div></div>',i=e.fn.datepicker,s=i.Constructor;i.Timepicker=function(t,e){this.d=t,this.opts=e,this.init()},i.Timepicker.prototype={init:function(){var t="input";this._setTime(this.d.date),this._buildHTML(),navigator.userAgent.match(/trident/gi)&&(t="change"),this.d.$el.on("selectDate",this._onSelectDate.bind(this)),this.$ranges.on(t,this._onChangeRange.bind(this)),this.$ranges.on("mouseup",this._onMouseUpRange.bind(this)),this.$ranges.on("mousemove focus ",this._onMouseEnterRange.bind(this)),this.$ranges.on("mouseout blur",this._onMouseOutRange.bind(this))},_setTime:function(t){var e=s.getParsedDate(t);this._handleDate(t),this.hours=e.hours<this.minHours?this.minHours:e.hours,this.minutes=e.minutes<this.minMinutes?this.minMinutes:e.minutes},_setMinTimeFromDate:function(t){this.minHours=t.getHours(),this.minMinutes=t.getMinutes(),this.d.lastSelectedDate&&this.d.lastSelectedDate.getHours()>t.getHours()&&(this.minMinutes=this.opts.minMinutes)},_setMaxTimeFromDate:function(t){this.maxHours=t.getHours(),this.maxMinutes=t.getMinutes(),this.d.lastSelectedDate&&this.d.lastSelectedDate.getHours()<t.getHours()&&(this.maxMinutes=this.opts.maxMinutes)},_setDefaultMinMaxTime:function(){var t=23,e=59,i=this.opts;this.minHours=i.minHours<0||i.minHours>t?0:i.minHours,this.minMinutes=i.minMinutes<0||i.minMinutes>e?0:i.minMinutes,this.maxHours=i.maxHours<0||i.maxHours>t?t:i.maxHours,this.maxMinutes=i.maxMinutes<0||i.maxMinutes>e?e:i.maxMinutes},_validateHoursMinutes:function(t){this.hours<this.minHours?this.hours=this.minHours:this.hours>this.maxHours&&(this.hours=this.maxHours),this.minutes<this.minMinutes?this.minutes=this.minMinutes:this.minutes>this.maxMinutes&&(this.minutes=this.maxMinutes)},_buildHTML:function(){var i=s.getLeadingZeroNum,a={hourMin:this.minHours,hourMax:i(this.maxHours),hourStep:this.opts.hoursStep,hourValue:this.hours,hourVisible:i(this.displayHours),minMin:this.minMinutes,minMax:i(this.maxMinutes),minStep:this.opts.minutesStep,minValue:i(this.minutes)},n=s.template(t,a);this.$timepicker=e(n).appendTo(this.d.$datepicker),this.$ranges=e('[type="range"]',this.$timepicker),this.$hours=e('[name="hours"]',this.$timepicker),this.$minutes=e('[name="minutes"]',this.$timepicker),this.$hoursText=e(".datepicker--time-current-hours",this.$timepicker),this.$minutesText=e(".datepicker--time-current-minutes",this.$timepicker),this.d.ampm&&(this.$ampm=e('<span class="datepicker--time-current-ampm">').appendTo(e(".datepicker--time-current",this.$timepicker)).html(this.dayPeriod),this.$timepicker.addClass("-am-pm-"))},_updateCurrentTime:function(){var t=s.getLeadingZeroNum(this.displayHours),e=s.getLeadingZeroNum(this.minutes);this.$hoursText.html(t),this.$minutesText.html(e),this.d.ampm&&this.$ampm.html(this.dayPeriod)},_updateRanges:function(){this.$hours.attr({min:this.minHours,max:this.maxHours}).val(this.hours),this.$minutes.attr({min:this.minMinutes,max:this.maxMinutes}).val(this.minutes)},_handleDate:function(t){this._setDefaultMinMaxTime(),t&&(s.isSame(t,this.d.opts.minDate)?this._setMinTimeFromDate(this.d.opts.minDate):s.isSame(t,this.d.opts.maxDate)&&this._setMaxTimeFromDate(this.d.opts.maxDate)),this._validateHoursMinutes(t)},update:function(){this._updateRanges(),this._updateCurrentTime()},_getValidHoursFromDate:function(t,e){var i=t,a=t;t instanceof Date&&(i=s.getParsedDate(t),a=i.hours);var n=e||this.d.ampm,h="am";if(n)switch(!0){case 0==a:a=12;break;case 12==a:h="pm";break;case a>11:a-=12,h="pm"}return{hours:a,dayPeriod:h}},set hours(t){this._hours=t;var e=this._getValidHoursFromDate(t);this.displayHours=e.hours,this.dayPeriod=e.dayPeriod},get hours(){return this._hours},_onChangeRange:function(t){var i=e(t.target),s=i.attr("name");this.d.timepickerIsActive=!0,this[s]=i.val(),this._updateCurrentTime(),this.d._trigger("timeChange",[this.hours,this.minutes]),this._handleDate(this.d.lastSelectedDate),this.update()},_onSelectDate:function(t,e){this._handleDate(e),this.update()},_onMouseEnterRange:function(t){var i=e(t.target).attr("name");e(".datepicker--time-current-"+i,this.$timepicker).addClass("-focus-")},_onMouseOutRange:function(t){var i=e(t.target).attr("name");this.d.inFocus||e(".datepicker--time-current-"+i,this.$timepicker).removeClass("-focus-")},_onMouseUpRange:function(t){this.d.timepickerIsActive=!1}}}()}(window,jQuery);;(function($){$.fn.datepicker.language['en']={days:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],daysShort:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],daysMin:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],months:['January','February','March','April','May','June','July','August','September','October','November','December'],monthsShort:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],today:'Today',clear:'Clear',dateFormat:'mm/dd/yyyy',timeFormat:'hh:ii aa',firstDay:0};})(jQuery);